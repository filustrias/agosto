# CIDs {.unnumbered}

Aqui est√£o apenas as listas de CIDs usados nos c√≥digos para identifica√ß√£o de casos. N√£o foram considerados outras regras aqui como exames laboratoriais, medidas de press√£o arterial ou prescri√ß√£o de medicamentos espec√≠ficos. Estas informa√ß√µes est√£o nos cap√≠tulos espec√≠ficos de cada morbidade.


## üìä VIS√ÉO GERAL

Este documento descreve os **56 crit√©rios diagn√≥sticos** implementados para identifica√ß√£o de morbidades cr√¥nicas, utilizando m√∫ltiplas fontes de dados:

- **CID-10** (Classifica√ß√£o Internacional de Doen√ßas)
- **Medidas cl√≠nicas** (Press√£o arterial, glicemia, HbA1c, eGFR)
- **Prescri√ß√µes medicamentosas** (Classes terap√™uticas)
- **Bases de dados externas** (HIV, eGFR)

### üéØ Princ√≠pio de Persist√™ncia

**Regra geral:** Uma vez detectada uma morbidade cr√¥nica, ela persiste em todos os registros subsequentes do paciente.

**Exce√ß√£o:** Pr√©-diabetes n√£o persiste se o paciente progredir para diabetes.

---

## üè• MORBIDADES ANALISADAS - Crit√©rios e Algoritmos de Identifica√ß√£o

---

1. [Doen√ßas Cardiovasculares](#cardiovasculares)
2. [Doen√ßas Metab√≥licas](#metabolicas)
3. [Doen√ßas Renais](#renais)
4. [Doen√ßas Respirat√≥rias](#respiratorias)
5. [Doen√ßas Neurol√≥gicas e Psiqui√°tricas](#neuro-psiq)
6. [Neoplasias](#neoplasias)
7. [Doen√ßas Hematol√≥gicas](#hematologicas)
8. [Doen√ßas Gastrointestinais](#gastrointestinais)
9. [Doen√ßas Reumatol√≥gicas](#reumatologicas)
10. [Doen√ßas Infecciosas](#infecciosas)
11. [Transtornos por Uso de Subst√¢ncias](#substancias)
12. [Dist√∫rbios Nutricionais](#nutricionais)

---

<a name="cardiovasculares"></a>
# 1. DOEN√áAS CARDIOVASCULARES

---

## 1.1. HIPERTENS√ÉO ARTERIAL SIST√äMICA (HAS)

### **Descri√ß√£o:**
Press√£o arterial sist√≥lica ‚â• 140 mmHg e/ou diast√≥lica ‚â• 90 mmHg em adultos, ou diagn√≥stico pr√©vio de hipertens√£o com uso de anti-hipertensivos.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** I10, I11, I12, I13, I15
- **Uso de anti-hipertensivos:** IECA, BRA, diur√©ticos tiaz√≠dicos, beta-bloqueadores, bloqueadores de canal de c√°lcio

### **Vari√°vel:**
- `HAS` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- Identifica√ß√£o de HAS
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)I1[0-5]') 
    THEN ea.entrada_data 
END) AS HAS,

-- Valida√ß√£o cruzada com medicamentos
CASE 
    WHEN HAS IS NOT NULL 
         OR uso_IECA = TRUE 
         OR uso_BRA = TRUE 
         OR uso_diuretico_tiazidico = TRUE
         OR uso_beta_bloqueador = TRUE
         OR uso_bloqueador_canal_calcio = TRUE
    THEN TRUE 
    ELSE FALSE 
END AS tem_HAS_validado
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| I10 | Hipertens√£o essencial (prim√°ria) |
| I11 | Doen√ßa card√≠aca hipertensiva |
| I12 | Doen√ßa renal hipertensiva |
| I13 | Doen√ßa card√≠aca e renal hipertensiva |
| I15 | Hipertens√£o secund√°ria |

---

## 1.2. CARDIOPATIA ISQU√äMICA (CI)

### **Descri√ß√£o:**
Doen√ßa arterial coronariana, incluindo angina, infarto agudo do mioc√°rdio (IAM) e suas sequelas.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** I20-I25
- **Procedimentos:** Angioplastia, revasculariza√ß√£o mioc√°rdica
- **Uso de AAS/Clopidogrel** como indicador adicional

### **Vari√°vel:**
- `CI` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- Identifica√ß√£o de Cardiopatia Isqu√™mica
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)I2[0-5]') 
    THEN ea.entrada_data 
END) AS CI,

-- CIDs mais espec√≠ficos
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)(I21|I22)') -- IAM
    THEN ea.entrada_data 
END) AS data_IAM,

MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)I20') -- Angina
    THEN ea.entrada_data 
END) AS data_angina
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| I20 | Angina pectoris |
| I21 | Infarto agudo do mioc√°rdio |
| I22 | Infarto do mioc√°rdio recorrente |
| I23 | Complica√ß√µes ap√≥s IAM |
| I24 | Outras doen√ßas isqu√™micas agudas do cora√ß√£o |
| I25 | Doen√ßa isqu√™mica cr√¥nica do cora√ß√£o |

---

## 1.3. INSUFICI√äNCIA CARD√çACA CONGESTIVA (ICC)

### **Descri√ß√£o:**
S√≠ndrome cl√≠nica caracterizada pela incapacidade do cora√ß√£o em bombear sangue adequadamente.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** I50
- **Uso de diur√©ticos de al√ßa** como indicador adicional

### **Vari√°vel:**
- `ICC` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- Identifica√ß√£o de ICC
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)I50') 
    THEN ea.entrada_data 
END) AS ICC,

-- Valida√ß√£o com medicamentos espec√≠ficos
CASE 
    WHEN ICC IS NOT NULL 
         OR (uso_diuretico_ansa = TRUE AND (CI IS NOT NULL OR HAS IS NOT NULL))
    THEN TRUE 
    ELSE FALSE 
END AS tem_ICC_provavel
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| I50.0 | Insufici√™ncia card√≠aca congestiva |
| I50.1 | Insufici√™ncia ventricular esquerda |
| I50.9 | Insufici√™ncia card√≠aca n√£o especificada |

---

## 1.4. ACIDENTE VASCULAR CEREBRAL (STROKE)

### **Descri√ß√£o:**
Evento cerebrovascular agudo (isqu√™mico ou hemorr√°gico) e suas sequelas.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** I60-I69, G45 (AIT)

### **Vari√°vel:**
- `stroke` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- Identifica√ß√£o de AVC/Stroke
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)(I6[0-9]|G45)') 
    THEN ea.entrada_data 
END) AS stroke,

-- Separar por tipo
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)(I63|I64)') -- Isqu√™mico
    THEN ea.entrada_data 
END) AS stroke_isquemico,

MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)(I60|I61|I62)') -- Hemorr√°gico
    THEN ea.entrada_data 
END) AS stroke_hemorragico,

MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)G45') -- AIT
    THEN ea.entrada_data 
END) AS AIT
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| I60 | Hemorragia subaracn√≥idea |
| I61 | Hemorragia intracerebral |
| I62 | Outras hemorragias intracranianas n√£o traum√°ticas |
| I63 | Infarto cerebral |
| I64 | AVC n√£o especificado (isqu√™mico ou hemorr√°gico) |
| I65-I66 | Oclus√£o/estenose de art√©rias cerebrais |
| I67 | Outras doen√ßas cerebrovasculares |
| I68 | Transtornos cerebrovasculares em doen√ßas classificadas em outra parte |
| I69 | Sequelas de doen√ßas cerebrovasculares |
| G45 | Acidentes isqu√™micos cerebrais transit√≥rios (AIT) |

---

## 1.5. ARRITMIAS CARD√çACAS

### **Descri√ß√£o:**
Dist√∫rbios do ritmo card√≠aco, incluindo fibrila√ß√£o atrial, flutter, taquicardias e bradicardias.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** I47-I49

### **Vari√°vel:**
- `arritmia` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- Identifica√ß√£o de Arritmias
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)I4[7-9]') 
    THEN ea.entrada_data 
END) AS arritmia,

-- Fibrila√ß√£o Atrial especificamente (mais importante)
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)I48') 
    THEN ea.entrada_data 
END) AS fibrilacao_atrial
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| I47 | Taquicardia parox√≠stica |
| I48 | Fibrila√ß√£o e flutter atrial |
| I49 | Outras arritmias card√≠acas |

---

## 1.6. DOEN√áAS VALVARES

### **Descri√ß√£o:**
Doen√ßas das v√°lvulas card√≠acas (mitral, a√≥rtica, tric√∫spide, pulmonar).

### **Crit√©rios de Inclus√£o:**
- **CID-10:** I05-I09, I34-I39

### **Vari√°vel:**
- `valvular` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- Identifica√ß√£o de Doen√ßas Valvares
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)(I0[5-9]|I3[4-9])') 
    THEN ea.entrada_data 
END) AS valvular
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| I05 | Doen√ßas reum√°ticas da v√°lvula mitral |
| I06 | Doen√ßas reum√°ticas da v√°lvula a√≥rtica |
| I07 | Doen√ßas reum√°ticas da v√°lvula tric√∫spide |
| I08 | Doen√ßas de m√∫ltiplas v√°lvulas |
| I09 | Outras doen√ßas reum√°ticas do cora√ß√£o |
| I34 | Transtornos n√£o reum√°ticos da v√°lvula mitral |
| I35 | Transtornos n√£o reum√°ticos da v√°lvula a√≥rtica |
| I36 | Transtornos n√£o reum√°ticos da v√°lvula tric√∫spide |
| I37 | Transtornos da v√°lvula pulmonar |
| I38 | Endocardite |
| I39 | Endocardite e transtornos valvulares em doen√ßas classificadas em outra parte |

---

<a name="metabolicas"></a>
# 2. DOEN√áAS METAB√ìLICAS

---

## 2.1. DIABETES MELLITUS (DM)

### **Descri√ß√£o:**
Dist√∫rbio metab√≥lico caracterizado por hiperglicemia cr√¥nica, diagnosticado por glicemia de jejum ‚â• 126 mg/dL, HbA1c ‚â• 6.5%, ou uso de antidiab√©ticos.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** E10-E14
- **HbA1c ‚â• 6.5%**
- **Glicemia de jejum ‚â• 126 mg/dL** (2+ medidas)
- **Uso de antidiab√©ticos:** Metformina, insulina, sulfonilureias, iDPP4, iSGLT2, agonistas GLP-1

### **Vari√°veis:**
- `DM` (DATE) - Data do primeiro diagn√≥stico de diabetes
- `pre_DM` (DATE) - Data do diagn√≥stico de pr√©-diabetes (se n√£o progrediu para DM)

### **Algoritmo de Identifica√ß√£o:**

```sql
-- ========================================
-- IDENTIFICA√á√ÉO DE DIABETES MELLITUS
-- ========================================

-- Diabetes por CID
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)E1[0-4]') 
    THEN ea.entrada_data 
END) AS DM_por_CID,

-- Diabetes por HbA1c
MIN(CASE 
    WHEN lab.nome_exame LIKE '%HEMOGLOBINA GLICOSILADA%'
         AND SAFE_CAST(lab.resultado AS FLOAT64) >= 6.5
    THEN lab.data_resultado 
END) AS DM_por_A1C,

-- Diabetes por glicemia de jejum (2+ medidas)
MIN(CASE 
    WHEN lab.nome_exame LIKE '%GLICOSE%'
         AND SAFE_CAST(lab.resultado AS FLOAT64) >= 126
         AND (
             SELECT COUNT(*) 
             FROM laboratorio l2 
             WHERE l2.cpf = lab.cpf 
               AND l2.nome_exame LIKE '%GLICOSE%'
               AND SAFE_CAST(l2.resultado AS FLOAT64) >= 126
               AND l2.data_resultado <= lab.data_resultado
         ) >= 2
    THEN lab.data_resultado 
END) AS DM_por_glicemia,

-- Diabetes por uso de medicamentos
MIN(CASE 
    WHEN med.nome_medicamento LIKE ANY (
        '%METFORMINA%', '%INSULINA%', '%GLIBENCLAMIDA%', 
        '%GLICLAZIDA%', '%GLIMEPIRIDA%', '%DAPAGLIFLOZINA%',
        '%EMPAGLIFLOZINA%', '%SITAGLIPTINA%', '%VILDAGLIPTINA%',
        '%LIRAGLUTIDA%', '%SEMAGLUTIDA%'
    )
    THEN med.data_prescricao 
END) AS DM_por_medicamento,

-- ========================================
-- CONSOLIDA√á√ÉO: Data mais antiga
-- ========================================
LEAST(
    DM_por_CID,
    DM_por_A1C,
    DM_por_glicemia,
    DM_por_medicamento
) AS DM,

-- ========================================
-- PR√â-DIABETES
-- ========================================

-- Pr√©-diabetes por HbA1c (5.7-6.4%)
MIN(CASE 
    WHEN lab.nome_exame LIKE '%HEMOGLOBINA GLICOSILADA%'
         AND SAFE_CAST(lab.resultado AS FLOAT64) BETWEEN 5.7 AND 6.4
    THEN lab.data_resultado 
END) AS pre_DM_por_A1C,

-- Pr√©-diabetes por glicemia de jejum (100-125 mg/dL)
MIN(CASE 
    WHEN lab.nome_exame LIKE '%GLICOSE%'
         AND SAFE_CAST(lab.resultado AS FLOAT64) BETWEEN 100 AND 125
    THEN lab.data_resultado 
END) AS pre_DM_por_glicemia,

-- Consolida√ß√£o pr√©-DM
CASE 
    WHEN DM IS NULL  -- S√≥ se n√£o tem diabetes
    THEN LEAST(pre_DM_por_A1C, pre_DM_por_glicemia)
    ELSE NULL  -- Se tem DM, pre_DM = NULL
END AS pre_DM,

-- ========================================
-- L√ìGICA DE PROGRESS√ÉO
-- ========================================

-- Tempo entre pr√©-DM e DM (se progrediu)
CASE 
    WHEN DM IS NOT NULL AND pre_DM_original IS NOT NULL
    THEN DATE_DIFF(DM, pre_DM_original, DAY)
    ELSE NULL
END AS dias_preDM_ate_DM,

-- Flag de progress√£o
CASE 
    WHEN DM IS NOT NULL AND pre_DM_original IS NOT NULL
    THEN TRUE
    ELSE FALSE
END AS progrediu_preDM_para_DM
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| E10 | Diabetes mellitus tipo 1 |
| E11 | Diabetes mellitus tipo 2 |
| E12 | Diabetes mellitus relacionado √† desnutri√ß√£o |
| E13 | Outros tipos especificados de diabetes mellitus |
| E14 | Diabetes mellitus n√£o especificado |

### **Subcategorias por Complica√ß√µes:**
- **E1x.0** - Com coma
- **E1x.1** - Com cetoacidose
- **E1x.2** - Com complica√ß√µes renais
- **E1x.3** - Com complica√ß√µes oft√°lmicas
- **E1x.4** - Com complica√ß√µes neurol√≥gicas
- **E1x.5** - Com complica√ß√µes circulat√≥rias perif√©ricas
- **E1x.6** - Com outras complica√ß√µes especificadas
- **E1x.7** - Com complica√ß√µes m√∫ltiplas
- **E1x.8** - Com complica√ß√µes n√£o especificadas
- **E1x.9** - Sem complica√ß√µes

---

## 2.2. OBESIDADE

### **Descri√ß√£o:**
IMC ‚â• 30 kg/m¬≤ ou diagn√≥stico de obesidade por CID-10.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** E66
- **IMC ‚â• 30 kg/m¬≤** (calculado de peso e altura)

### **Vari√°veis:**
- `obesidade` (DATE) - Data do diagn√≥stico por CID
- `obesidade_consolidada` (DATE) - Data do diagn√≥stico por CID **OU** primeira medida com IMC ‚â• 30

### **Algoritmo de Identifica√ß√£o:**

```sql
-- ========================================
-- OBESIDADE POR CID
-- ========================================
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)E66') 
    THEN ea.entrada_data 
END) AS obesidade,

-- ========================================
-- OBESIDADE POR IMC
-- ========================================

-- C√°lculo do IMC
peso_mais_recente / POWER(altura_mais_recente, 2) AS IMC_mais_recente,

-- Data da primeira medida com IMC ‚â• 30
MIN(CASE 
    WHEN (peso / POWER(altura, 2)) >= 30
    THEN data_medicao
END) AS obesidade_por_IMC,

-- ========================================
-- CONSOLIDA√á√ÉO
-- ========================================
LEAST(obesidade, obesidade_por_IMC) AS obesidade_consolidada,

-- Classifica√ß√£o do IMC
CASE 
    WHEN IMC_mais_recente < 18.5 THEN 'Baixo peso'
    WHEN IMC_mais_recente BETWEEN 18.5 AND 24.9 THEN 'Normal'
    WHEN IMC_mais_recente BETWEEN 25.0 AND 29.9 THEN 'Sobrepeso'
    WHEN IMC_mais_recente BETWEEN 30.0 AND 34.9 THEN 'Obesidade Grau I'
    WHEN IMC_mais_recente BETWEEN 35.0 AND 39.9 THEN 'Obesidade Grau II'
    WHEN IMC_mais_recente >= 40.0 THEN 'Obesidade Grau III'
END AS classificacao_IMC
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| E66.0 | Obesidade devida a excesso de calorias |
| E66.1 | Obesidade induzida por drogas |
| E66.2 | Obesidade extrema com hipoventila√ß√£o alveolar |
| E66.8 | Outra obesidade |
| E66.9 | Obesidade n√£o especificada |

---

## 2.3. DISLIPIDEMIA

### **Descri√ß√£o:**
Altera√ß√µes no perfil lip√≠dico (colesterol total, LDL, HDL, triglicer√≠deos) ou uso de hipolipemiantes.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** E78
- **Colesterol total ‚â• 200 mg/dL**
- **LDL ‚â• 130 mg/dL** (ou ‚â• 100 em alto risco CV)
- **HDL < 40 mg/dL** (homens) ou < 50 mg/dL (mulheres)
- **Triglicer√≠deos ‚â• 150 mg/dL**
- **Uso de estatinas ou fibratos**

### **Vari√°veis:**
- `dislipidemia_por_CID` (DATE) - Data do diagn√≥stico por CID
- `dislipidemia` (DATE) - Data do diagn√≥stico (CID ou laboratorial)

### **Algoritmo de Identifica√ß√£o:**

```sql
-- ========================================
-- DISLIPIDEMIA POR CID
-- ========================================
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)E78') 
    THEN ea.entrada_data 
END) AS dislipidemia_por_CID,

-- ========================================
-- DISLIPIDEMIA POR EXAMES
-- ========================================

-- Por Colesterol Total elevado
MIN(CASE 
    WHEN lab.nome_exame LIKE '%COLESTEROL TOTAL%'
         AND SAFE_CAST(lab.resultado AS FLOAT64) >= 200
    THEN lab.data_resultado 
END) AS dislipidemia_por_colesterol_total,

-- Por LDL elevado
MIN(CASE 
    WHEN lab.nome_exame LIKE '%LDL%'
         AND SAFE_CAST(lab.resultado AS FLOAT64) >= 130
    THEN lab.data_resultado 
END) AS dislipidemia_por_LDL,

-- Por HDL baixo
MIN(CASE 
    WHEN lab.nome_exame LIKE '%HDL%'
         AND SAFE_CAST(lab.resultado AS FLOAT64) < 40  -- Simplificado
    THEN lab.data_resultado 
END) AS dislipidemia_por_HDL,

-- Por Triglicer√≠deos elevados
MIN(CASE 
    WHEN lab.nome_exame LIKE '%TRIGLICERID%'
         AND SAFE_CAST(lab.resultado AS FLOAT64) >= 150
    THEN lab.data_resultado 
END) AS dislipidemia_por_TG,

-- Por uso de estatina/fibrato
MIN(CASE 
    WHEN med.nome_medicamento LIKE ANY (
        '%SINVASTATINA%', '%ATORVASTATINA%', '%ROSUVASTATINA%',
        '%PRAVASTATINA%', '%BEZAFIBRATO%', '%FENOFIBRATO%'
    )
    THEN med.data_prescricao 
END) AS dislipidemia_por_medicamento,

-- ========================================
-- CONSOLIDA√á√ÉO
-- ========================================
LEAST(
    dislipidemia_por_CID,
    dislipidemia_por_colesterol_total,
    dislipidemia_por_LDL,
    dislipidemia_por_HDL,
    dislipidemia_por_TG,
    dislipidemia_por_medicamento
) AS dislipidemia
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| E78.0 | Hipercolesterolemia pura |
| E78.1 | Hipergliceridemia pura |
| E78.2 | Hiperlipidemia mista |
| E78.3 | Hiperquilomicronemia |
| E78.4 | Outras hiperlipidemias |
| E78.5 | Hiperlipidemia n√£o especificada |
| E78.6 | Defici√™ncia de lipoprote√≠nas |

---

## 2.4. DOEN√áAS DA TIREOIDE

### **Descri√ß√£o:**
Dist√∫rbios da gl√¢ndula tireoide, incluindo hipo e hipertireoidismo, tireoidites, n√≥dulos.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** E00-E07
- **Uso de levotiroxina** (hipotireoidismo)
- **TSH anormal:** < 0.4 ou > 4.5 mUI/L

### **Vari√°vel:**
- `tireoide` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- ========================================
-- DOEN√áAS DA TIREOIDE
-- ========================================

-- Por CID
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)E0[0-7]') 
    THEN ea.entrada_data 
END) AS tireoide_por_CID,

-- Por TSH alterado
MIN(CASE 
    WHEN lab.nome_exame LIKE '%TSH%'
         AND (SAFE_CAST(lab.resultado AS FLOAT64) < 0.4 
              OR SAFE_CAST(lab.resultado AS FLOAT64) > 4.5)
    THEN lab.data_resultado 
END) AS tireoide_por_TSH,

-- Por uso de levotiroxina
MIN(CASE 
    WHEN med.nome_medicamento LIKE '%LEVOTIROXINA%'
    THEN med.data_prescricao 
END) AS tireoide_por_medicamento,

-- Consolida√ß√£o
LEAST(
    tireoide_por_CID,
    tireoide_por_TSH,
    tireoide_por_medicamento
) AS tireoide,

-- ========================================
-- CLASSIFICA√á√ÉO
-- ========================================

-- Hipotireoidismo (mais comum)
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)E0[23]') 
         OR uso_levotiroxina = TRUE
    THEN ea.entrada_data 
END) AS hipotireoidismo,

-- Hipertireoidismo
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)E05') 
    THEN ea.entrada_data 
END) AS hipertireoidismo
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| E00 | S√≠ndrome da defici√™ncia cong√™nita de iodo |
| E01 | Transtornos tireoidianos relacionados √† defici√™ncia de iodo |
| E02 | Hipotireoidismo subcl√≠nico por defici√™ncia de iodo |
| E03 | Outros hipotireoidismos |
| E04 | Outros b√≥cios n√£o t√≥xicos |
| E05 | Tireotoxicose (hipertireoidismo) |
| E06 | Tireoidite |
| E07 | Outros transtornos da tireoide |

---

<a name="renais"></a>
# 3. DOEN√áAS RENAIS

---

## 3.1. INSUFICI√äNCIA RENAL CR√îNICA (IRC) / DOEN√áA RENAL CR√îNICA (DRC)

### **Descri√ß√£o:**
Perda progressiva e irrevers√≠vel da fun√ß√£o renal, definida por TFG < 60 mL/min/1.73m¬≤ por ‚â• 3 meses ou presen√ßa de les√£o renal.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** N18, N19
- **TFG (CKD-EPI) < 60 mL/min/1.73m¬≤** em 2+ medidas com ‚â• 90 dias de intervalo
- **Creatinina persistentemente elevada**

### **Vari√°veis:**
- `IRC` (DATE) - Data do primeiro diagn√≥stico
- `estagio_DRC` (STRING) - Est√°gio da DRC: G1, G2, G3a, G3b, G4, G5
- `TFG_CKD_EPI` (FLOAT) - Taxa de filtra√ß√£o glomerular estimada

### **Algoritmo de Identifica√ß√£o:**

```sql
-- ========================================
-- C√ÅLCULO DA TFG (CKD-EPI)
-- ========================================

-- F√≥rmula CKD-EPI (simplificada)
CASE 
    -- Mulheres, creatinina ‚â§ 0.7
    WHEN genero = 'feminino' AND creatinina_mais_recente <= 0.7
    THEN 144 * POWER(creatinina_mais_recente / 0.7, -0.329) * POWER(0.993, idade)
    
    -- Mulheres, creatinina > 0.7
    WHEN genero = 'feminino' AND creatinina_mais_recente > 0.7
    THEN 144 * POWER(creatinina_mais_recente / 0.7, -1.209) * POWER(0.993, idade)
    
    -- Homens, creatinina ‚â§ 0.9
    WHEN genero = 'masculino' AND creatinina_mais_recente <= 0.9
    THEN 141 * POWER(creatinina_mais_recente / 0.9, -0.411) * POWER(0.993, idade)
    
    -- Homens, creatinina > 0.9
    WHEN genero = 'masculino' AND creatinina_mais_recente > 0.9
    THEN 141 * POWER(creatinina_mais_recente / 0.9, -1.209) * POWER(0.993, idade)
    
    ELSE NULL
END AS TFG_CKD_EPI,

-- ========================================
-- ESTADIAMENTO DA DRC
-- ========================================

CASE 
    WHEN TFG_CKD_EPI >= 90 THEN 'G1'   -- Normal ou aumentada
    WHEN TFG_CKD_EPI BETWEEN 60 AND 89 THEN 'G2'   -- Levemente diminu√≠da
    WHEN TFG_CKD_EPI BETWEEN 45 AND 59 THEN 'G3a'  -- Leve a moderadamente diminu√≠da
    WHEN TFG_CKD_EPI BETWEEN 30 AND 44 THEN 'G3b'  -- Moderada a gravemente diminu√≠da
    WHEN TFG_CKD_EPI BETWEEN 15 AND 29 THEN 'G4'   -- Gravemente diminu√≠da
    WHEN TFG_CKD_EPI < 15 THEN 'G5'   -- Fal√™ncia renal
    ELSE NULL
END AS estagio_DRC,

-- ========================================
-- IDENTIFICA√á√ÉO DE IRC
-- ========================================

-- Por CID
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)N1[89]') 
    THEN ea.entrada_data 
END) AS IRC_por_CID,

-- Por TFG < 60 persistente (2+ medidas com ‚â• 90 dias)
MIN(CASE 
    WHEN TFG_CKD_EPI < 60
         AND (
             SELECT COUNT(*) 
             FROM creatininas c2 
             WHERE c2.cpf = c.cpf 
               AND c2.TFG < 60
               AND DATE_DIFF(c2.data, c.data, DAY) >= 90
               AND c2.data <= c.data
         ) >= 2
    THEN data_creatinina
END) AS IRC_por_TFG,

-- Consolida√ß√£o
LEAST(IRC_por_CID, IRC_por_TFG) AS IRC,

-- ========================================
-- PROGRESS√ÉO DA DRC
-- ========================================

-- Velocidade de perda de TFG
(TFG_penultimo - TFG_mais_recente) / 
    (DATE_DIFF(data_creatinina_mais_recente, data_creatinina_penultimo, DAY) / 365.25) 
    AS delta_TFG_ano,

-- Classifica√ß√£o de progress√£o
CASE 
    WHEN delta_TFG_ano < 2 THEN 'est√°vel'
    WHEN delta_TFG_ano BETWEEN 2 AND 5 THEN 'progressao_lenta'
    WHEN delta_TFG_ano > 5 THEN 'progressao_rapida'
END AS progressao_DRC
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| N18.0 | Doen√ßa renal em est√°gio final |
| N18.1 | Doen√ßa renal cr√¥nica, est√°gio 1 |
| N18.2 | Doen√ßa renal cr√¥nica, est√°gio 2 |
| N18.3 | Doen√ßa renal cr√¥nica, est√°gio 3 |
| N18.4 | Doen√ßa renal cr√¥nica, est√°gio 4 |
| N18.5 | Doen√ßa renal cr√¥nica, est√°gio 5 |
| N18.8 | Outra doen√ßa renal cr√¥nica |
| N18.9 | Doen√ßa renal cr√¥nica n√£o especificada |
| N19 | Insufici√™ncia renal n√£o especificada |

### **Classifica√ß√£o KDIGO:**

| Est√°gio | TFG (mL/min/1.73m¬≤) | Descri√ß√£o |
|---------|---------------------|-----------|
| G1 | ‚â• 90 | Normal ou aumentada |
| G2 | 60-89 | Levemente diminu√≠da |
| G3a | 45-59 | Leve a moderadamente diminu√≠da |
| G3b | 30-44 | Moderada a gravemente diminu√≠da |
| G4 | 15-29 | Gravemente diminu√≠da |
| G5 | < 15 | Fal√™ncia renal |

---

<a name="respiratorias"></a>
# 4. DOEN√áAS RESPIRAT√ìRIAS

---

## 4.1. DOEN√áA PULMONAR OBSTRUTIVA CR√îNICA (COPD)

### **Descri√ß√£o:**
Limita√ß√£o cr√¥nica do fluxo a√©reo, geralmente progressiva, associada a resposta inflamat√≥ria anormal a part√≠culas ou gases nocivos.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** J44

### **Vari√°vel:**
- `COPD` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- Identifica√ß√£o de COPD
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)J44') 
    THEN ea.entrada_data 
END) AS COPD
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| J44.0 | DPOC com infec√ß√£o respirat√≥ria aguda do trato respirat√≥rio inferior |
| J44.1 | DPOC com exacerba√ß√£o aguda n√£o especificada |
| J44.8 | Outras formas especificadas de DPOC |
| J44.9 | DPOC n√£o especificada |

---

## 4.2. ASMA

### **Descri√ß√£o:**
Doen√ßa inflamat√≥ria cr√¥nica das vias a√©reas, caracterizada por hiper-responsividade br√¥nquica e obstru√ß√£o vari√°vel ao fluxo a√©reo.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** J45, J46

### **Vari√°vel:**
- `asthma` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- Identifica√ß√£o de Asma
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)J4[56]') 
    THEN ea.entrada_data 
END) AS asthma
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| J45.0 | Asma predominantemente al√©rgica |
| J45.1 | Asma n√£o al√©rgica |
| J45.8 | Asma mista |
| J45.9 | Asma n√£o especificada |
| J46 | Estado de mal asm√°tico |

---

<a name="neuro-psiq"></a>
# 5. DOEN√áAS NEUROL√ìGICAS E PSIQUI√ÅTRICAS

---

## 5.1. DEM√äNCIAS

### **Descri√ß√£o:**
S√≠ndrome caracterizada por decl√≠nio cognitivo progressivo, incluindo Alzheimer, dem√™ncia vascular, dem√™ncia com corpos de Lewy, entre outras.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** F00-F03, G30, G31

### **Vari√°vel:**
- `dementia` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- Identifica√ß√£o de Dem√™ncias
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)(F0[0-3]|G3[01])') 
    THEN ea.entrada_data 
END) AS dementia,

-- Alzheimer especificamente
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)(F00|G30)') 
    THEN ea.entrada_data 
END) AS alzheimer,

-- Dem√™ncia vascular
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)F01') 
    THEN ea.entrada_data 
END) AS demencia_vascular
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| F00 | Dem√™ncia na doen√ßa de Alzheimer |
| F01 | Dem√™ncia vascular |
| F02 | Dem√™ncia em outras doen√ßas classificadas em outra parte |
| F03 | Dem√™ncia n√£o especificada |
| G30 | Doen√ßa de Alzheimer |
| G31 | Outras doen√ßas degenerativas do sistema nervoso |

---

## 5.2. EPILEPSIA

### **Descri√ß√£o:**
Dist√∫rbio neurol√≥gico caracterizado por predisposi√ß√£o a crises epil√©pticas recorrentes.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** G40, G41

### **Vari√°vel:**
- `epilepsy` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- Identifica√ß√£o de Epilepsia
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)G4[01]') 
    THEN ea.entrada_data 
END) AS epilepsy
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| G40 | Epilepsia |
| G41 | Estado de mal epil√©ptico |

---

## 5.3. PARKINSONISMO

### **Descri√ß√£o:**
S√≠ndrome caracterizada por tremor, rigidez, bradicinesia e instabilidade postural. Inclui doen√ßa de Parkinson idiop√°tica e parkinsonismos secund√°rios.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** G20, G21, G22

### **Vari√°vel:**
- `parkinsonism` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- Identifica√ß√£o de Parkinsonismo
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)G2[012]') 
    THEN ea.entrada_data 
END) AS parkinsonism,

-- Parkinson idiop√°tico
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)G20') 
    THEN ea.entrada_data 
END) AS parkinson_idiopatico
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| G20 | Doen√ßa de Parkinson |
| G21 | Parkinsonismo secund√°rio |
| G22 | Parkinsonismo em doen√ßas classificadas em outra parte |

---

## 5.4. DEPRESS√ÉO E ANSIEDADE

### **Descri√ß√£o:**
Transtornos do humor e de ansiedade, incluindo depress√£o maior, distimia, transtorno de ansiedade generalizada, transtorno do p√¢nico, fobias.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** F32, F33, F34.1 (depress√£o), F40, F41 (ansiedade)

### **Vari√°vel:**
- `depre_ansiedade` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- Identifica√ß√£o de Depress√£o/Ansiedade
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)(F3[234]|F4[01])') 
    THEN ea.entrada_data 
END) AS depre_ansiedade,

-- Depress√£o isoladamente
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)(F32|F33|F341)') 
    THEN ea.entrada_data 
END) AS depressao,

-- Ansiedade isoladamente
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)F4[01]') 
    THEN ea.entrada_data 
END) AS ansiedade
```

### **CIDs Espec√≠ficos:**

**Depress√£o:**
| CID | Descri√ß√£o |
|-----|-----------|
| F32 | Epis√≥dio depressivo |
| F33 | Transtorno depressivo recorrente |
| F34.1 | Distimia |

**Ansiedade:**
| CID | Descri√ß√£o |
|-----|-----------|
| F40 | Transtornos f√≥bico-ansiosos |
| F41 | Outros transtornos ansiosos |

---

## 5.5. TRANSTORNOS PSIC√ìTICOS

### **Descri√ß√£o:**
Transtornos mentais graves caracterizados por perda de contato com a realidade, incluindo esquizofrenia, transtorno esquizoafetivo, transtorno delirante.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** F20-F29

### **Vari√°vel:**
- `psicoses` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- Identifica√ß√£o de Psicoses
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)F2[0-9]') 
    THEN ea.entrada_data 
END) AS psicoses,

-- Esquizofrenia especificamente
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)F20') 
    THEN ea.entrada_data 
END) AS esquizofrenia
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| F20 | Esquizofrenia |
| F21 | Transtorno esquizot√≠pico |
| F22 | Transtornos delirantes persistentes |
| F23 | Transtornos psic√≥ticos agudos e transit√≥rios |
| F24 | Transtorno delirante induzido |
| F25 | Transtornos esquizoafetivos |
| F28 | Outros transtornos psic√≥ticos n√£o org√¢nicos |
| F29 | Psicose n√£o org√¢nica n√£o especificada |

---

<a name="neoplasias"></a>
# 6. NEOPLASIAS

---

## 6.1. NEOPLASIAS (C√ÇNCER)

### **Descri√ß√£o:**
Crescimento anormal e descontrolado de c√©lulas, incluindo tumores malignos de diferentes localiza√ß√µes.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** C00-C97 (neoplasias malignas), D00-D09 (in situ)

### **Vari√°veis:**
- `neoplasia_ambos_os_sexos` (DATE) - Neoplasias que acometem ambos os sexos
- `neoplasia_feminina_estrita` (DATE) - Neoplasias exclusivas de mulheres
- `neoplasia_masculina_estrita` (DATE) - Neoplasias exclusivas de homens

### **Algoritmo de Identifica√ß√£o:**

```sql
-- ========================================
-- NEOPLASIAS AMBOS OS SEXOS
-- ========================================
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)(C0[0-9]|C1[0-9]|C2[0-6]|C3[0-9]|C4[0-3]|C4[5-9]|C[567][0-9]|C8[0-9]|C9[0-7]|D0[0-9])') 
         AND NOT REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)(C5[0-8]|C60|C61|C62|C63)')  -- Excluir espec√≠ficos
    THEN ea.entrada_data 
END) AS neoplasia_ambos_os_sexos,

-- ========================================
-- NEOPLASIAS FEMININAS ESTRITAS
-- ========================================
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)(C5[0-8])')  -- C50-C58
         AND genero = 'feminino'
    THEN ea.entrada_data 
END) AS neoplasia_feminina_estrita,

-- ========================================
-- NEOPLASIAS MASCULINAS ESTRITAS
-- ========================================
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)(C60|C61|C62|C63)')  -- Pr√≥stata, test√≠culo, etc
         AND genero = 'masculino'
    THEN ea.entrada_data 
END) AS neoplasia_masculina_estrita,

-- ========================================
-- TIPOS ESPEC√çFICOS MAIS COMUNS
-- ========================================

-- Mama (C50)
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)C50') 
    THEN ea.entrada_data 
END) AS ca_mama,

-- Pr√≥stata (C61)
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)C61') 
         AND genero = 'masculino'
    THEN ea.entrada_data 
END) AS ca_prostata,

-- Colo do √∫tero (C53)
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)C53') 
         AND genero = 'feminino'
    THEN ea.entrada_data 
END) AS ca_colo_utero,

-- Pulm√£o (C34)
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)C34') 
    THEN ea.entrada_data 
END) AS ca_pulmao,

-- Colorretal (C18-C20)
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)(C18|C19|C20)') 
    THEN ea.entrada_data 
END) AS ca_colorretal,

-- Est√¥mago (C16)
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)C16') 
    THEN ea.entrada_data 
END) AS ca_estomago,

-- Pele (C43-C44)
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)(C43|C44)') 
    THEN ea.entrada_data 
END) AS ca_pele
```

### **Principais CIDs por Localiza√ß√£o:**

**Neoplasias Femininas:**
| CID | Descri√ß√£o |
|-----|-----------|
| C50 | Neoplasia maligna da mama |
| C51 | Neoplasia maligna da vulva |
| C52 | Neoplasia maligna da vagina |
| C53 | Neoplasia maligna do colo do √∫tero |
| C54 | Neoplasia maligna do corpo do √∫tero |
| C55 | Neoplasia maligna do √∫tero por√ß√£o n√£o especificada |
| C56 | Neoplasia maligna do ov√°rio |
| C57 | Neoplasia maligna de outros √≥rg√£os genitais femininos |
| C58 | Neoplasia maligna da placenta |

**Neoplasias Masculinas:**
| CID | Descri√ß√£o |
|-----|-----------|
| C60 | Neoplasia maligna do p√™nis |
| C61 | Neoplasia maligna da pr√≥stata |
| C62 | Neoplasia maligna dos test√≠culos |
| C63 | Neoplasia maligna de outros √≥rg√£os genitais masculinos |

**Neoplasias Comuns (Ambos os Sexos):**
| CID | Descri√ß√£o |
|-----|-----------|
| C15 | Neoplasia maligna do es√¥fago |
| C16 | Neoplasia maligna do est√¥mago |
| C18 | Neoplasia maligna do c√≥lon |
| C19 | Neoplasia maligna da jun√ß√£o retossigmoide |
| C20 | Neoplasia maligna do reto |
| C22 | Neoplasia maligna do f√≠gado e vias biliares intra-hep√°ticas |
| C25 | Neoplasia maligna do p√¢ncreas |
| C34 | Neoplasia maligna dos br√¥nquios e pulm√µes |
| C43 | Melanoma maligno de pele |
| C44 | Outras neoplasias malignas da pele |
| C64 | Neoplasia maligna do rim |
| C67 | Neoplasia maligna da bexiga |
| C73 | Neoplasia maligna da gl√¢ndula tireoide |
| C91 | Leucemia linfoide |
| C92 | Leucemia mieloide |

---

<a name="hematologicas"></a>
# 7. DOEN√áAS HEMATOL√ìGICAS

---

## 7.1. ANEMIAS

### **Descri√ß√£o:**
Redu√ß√£o da concentra√ß√£o de hemoglobina no sangue, com m√∫ltiplas etiologias (ferropriva, megalobl√°stica, hemol√≠tica, etc.).

### **Crit√©rios de Inclus√£o:**
- **CID-10:** D50-D64
- **Hemoglobina < 13 g/dL** (homens) ou < 12 g/dL (mulheres)

### **Vari√°vel:**
- `anemias` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- ========================================
-- ANEMIAS POR CID
-- ========================================
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)D[56][0-4]') 
    THEN ea.entrada_data 
END) AS anemias_por_CID,

-- ========================================
-- ANEMIAS POR HEMOGLOBINA BAIXA
-- ========================================
MIN(CASE 
    WHEN lab.nome_exame LIKE '%HEMOGLOBINA%'
         AND (
             (genero = 'masculino' AND SAFE_CAST(lab.resultado AS FLOAT64) < 13.0) OR
             (genero = 'feminino' AND SAFE_CAST(lab.resultado AS FLOAT64) < 12.0)
         )
    THEN lab.data_resultado 
END) AS anemias_por_hemoglobina,

-- Consolida√ß√£o
LEAST(anemias_por_CID, anemias_por_hemoglobina) AS anemias,

-- ========================================
-- TIPOS ESPEC√çFICOS
-- ========================================

-- Anemia ferropriva (mais comum)
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)D50') 
    THEN ea.entrada_data 
END) AS anemia_ferropriva,

-- Anemia megalobl√°stica / B12
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)(D51|D52)') 
    THEN ea.entrada_data 
END) AS anemia_megaloblastica
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| D50 | Anemia por defici√™ncia de ferro |
| D51 | Anemia por defici√™ncia de vitamina B12 |
| D52 | Anemia por defici√™ncia de folato |
| D53 | Outras anemias nutricionais |
| D55 | Anemia devido a transtornos enzim√°ticos |
| D56 | Talassemia |
| D57 | Transtornos falciformes |
| D58 | Outras anemias hemol√≠ticas heredit√°rias |
| D59 | Anemia hemol√≠tica adquirida |
| D60 | Aplasia pura da s√©rie vermelha adquirida |
| D61 | Outras anemias apl√°sticas |
| D62 | Anemia p√≥s-hemorr√°gica aguda |
| D63 | Anemia em doen√ßas cr√¥nicas classificadas em outra parte |
| D64 | Outras anemias |

---

<a name="gastrointestinais"></a>
# 8. DOEN√áAS GASTROINTESTINAIS

---

## 8.1. HEPATOPATIAS

### **Descri√ß√£o:**
Doen√ßas do f√≠gado, incluindo hepatites cr√¥nicas, cirrose, esteatose hep√°tica.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** K70-K77, B18 (hepatites cr√¥nicas)

### **Vari√°vel:**
- `liver` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- Identifica√ß√£o de Hepatopatias
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)(K7[0-7]|B18)') 
    THEN ea.entrada_data 
END) AS liver,

-- Cirrose especificamente
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)K74') 
    THEN ea.entrada_data 
END) AS cirrose,

-- Hepatite cr√¥nica viral
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)B18') 
    THEN ea.entrada_data 
END) AS hepatite_cronica_viral
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| B18 | Hepatite viral cr√¥nica |
| K70 | Doen√ßa alco√≥lica do f√≠gado |
| K71 | Doen√ßa t√≥xica do f√≠gado |
| K72 | Insufici√™ncia hep√°tica |
| K73 | Hepatite cr√¥nica |
| K74 | Fibrose e cirrose hep√°ticas |
| K75 | Outras doen√ßas inflamat√≥rias do f√≠gado |
| K76 | Outras doen√ßas do f√≠gado |
| K77 | Transtornos do f√≠gado em doen√ßas classificadas em outra parte |

---

## 8.2. DOEN√áA ULCEROSA P√âPTICA

### **Descri√ß√£o:**
√ölceras g√°stricas e duodenais.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** K25-K28

### **Vari√°vel:**
- `peptic` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- Identifica√ß√£o de √ölcera P√©ptica
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)K2[5-8]') 
    THEN ea.entrada_data 
END) AS peptic
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| K25 | √ölcera g√°strica |
| K26 | √ölcera duodenal |
| K27 | √ölcera p√©ptica de localiza√ß√£o n√£o especificada |
| K28 | √ölcera gastrojejunal |

---

<a name="reumatologicas"></a>
# 9. DOEN√áAS REUMATOL√ìGICAS

---

## 9.1. DOEN√áAS REUMATOL√ìGICAS

### **Descri√ß√£o:**
Doen√ßas do tecido conjuntivo e autoimunes, incluindo artrite reumatoide, l√∫pus, espondilite anquilosante, artrose.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** M05-M14 (artropatias inflamat√≥rias), M15-M19 (artroses), M30-M36 (doen√ßas sist√™micas do tecido conjuntivo)

### **Vari√°vel:**
- `reumato` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- Identifica√ß√£o de Doen√ßas Reumatol√≥gicas
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)(M0[5-9]|M1[0-9]|M3[0-6])') 
    THEN ea.entrada_data 
END) AS reumato,

-- Artrite Reumatoide
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)M05') 
    THEN ea.entrada_data 
END) AS artrite_reumatoide,

-- L√∫pus Eritematoso Sist√™mico
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)M32') 
    THEN ea.entrada_data 
END) AS lupus,

-- Artrose
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)M1[5-9]') 
    THEN ea.entrada_data 
END) AS artrose
```

### **CIDs Espec√≠ficos:**

**Artropatias Inflamat√≥rias:**
| CID | Descri√ß√£o |
|-----|-----------|
| M05 | Artrite reumatoide soropositiva |
| M06 | Outras artrites reumatoides |
| M07 | Artropatias psori√°sicas e enterop√°ticas |
| M08 | Artrite juvenil |
| M09 | Artrite juvenil em doen√ßas classificadas em outra parte |
| M10 | Gota |
| M11 | Outras artropatias por cristais |
| M12 | Outras artropatias espec√≠ficas |
| M13 | Outras artrites |
| M14 | Artropatias em outras doen√ßas classificadas em outra parte |

**Artroses:**
| CID | Descri√ß√£o |
|-----|-----------|
| M15 | Poliartrose |
| M16 | Coxartrose (artrose do quadril) |
| M17 | Gonartrose (artrose do joelho) |
| M18 | Artrose da primeira articula√ß√£o carpometacarpiana |
| M19 | Outras artroses |

**Doen√ßas Sist√™micas do Tecido Conjuntivo:**
| CID | Descri√ß√£o |
|-----|-----------|
| M30 | Poliarterite nodosa e afec√ß√µes correlatas |
| M31 | Outras vasculopatias necrotizantes |
| M32 | L√∫pus eritematoso sist√™mico |
| M33 | Dermatopoliomiosite |
| M34 | Esclerose sist√™mica |
| M35 | Outras afec√ß√µes sist√™micas do tecido conjuntivo |
| M36 | Doen√ßas sist√™micas do tecido conjuntivo em doen√ßas classificadas em outra parte |

---

<a name="infecciosas"></a>
# 10. DOEN√áAS INFECCIOSAS

---

## 10.1. HIV/AIDS

### **Descri√ß√£o:**
Infec√ß√£o pelo v√≠rus da imunodefici√™ncia humana.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** B20-B24

### **Vari√°vel:**
- `HIV` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- Identifica√ß√£o de HIV/AIDS
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)B2[0-4]') 
    THEN ea.entrada_data 
END) AS HIV
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| B20 | Doen√ßa pelo HIV resultando em doen√ßas infecciosas e parasit√°rias |
| B21 | Doen√ßa pelo HIV resultando em neoplasias malignas |
| B22 | Doen√ßa pelo HIV resultando em outras doen√ßas especificadas |
| B23 | Doen√ßa pelo HIV resultando em outras doen√ßas |
| B24 | Doen√ßa pelo HIV n√£o especificada |

---

<a name="substancias"></a>
# 11. TRANSTORNOS POR USO DE SUBST√ÇNCIAS

---

## 11.1. TRANSTORNOS RELACIONADOS AO √ÅLCOOL

### **Descri√ß√£o:**
Uso nocivo, depend√™ncia e outras condi√ß√µes relacionadas ao consumo de √°lcool.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** F10

### **Vari√°vel:**
- `alcool` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- Identifica√ß√£o de Transtornos por √Ålcool
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)F10') 
    THEN ea.entrada_data 
END) AS alcool,

-- Depend√™ncia especificamente
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)F102') 
    THEN ea.entrada_data 
END) AS dependencia_alcool
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| F10.0 | Intoxica√ß√£o aguda |
| F10.1 | Uso nocivo |
| F10.2 | S√≠ndrome de depend√™ncia |
| F10.3 | S√≠ndrome de abstin√™ncia |
| F10.4 | S√≠ndrome de abstin√™ncia com delirium |
| F10.5 | Transtorno psic√≥tico |
| F10.6 | S√≠ndrome amn√©sica |
| F10.7 | Transtorno psic√≥tico residual ou de instala√ß√£o tardia |
| F10.8 | Outros transtornos mentais ou comportamentais |
| F10.9 | Transtorno mental ou comportamental n√£o especificado |

---

## 11.2. TRANSTORNOS RELACIONADOS A DROGAS

### **Descri√ß√£o:**
Uso, abuso e depend√™ncia de subst√¢ncias psicoativas (exceto √°lcool e tabaco).

### **Crit√©rios de Inclus√£o:**
- **CID-10:** F11-F19 (exceto F17 - tabaco)

### **Vari√°vel:**
- `drogas` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- Identifica√ß√£o de Transtornos por Drogas
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)F1[1-689]')  -- F11-F16, F18-F19
    THEN ea.entrada_data 
END) AS drogas,

-- Opioides
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)F11') 
    THEN ea.entrada_data 
END) AS drogas_opioides,

-- Canabinoides
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)F12') 
    THEN ea.entrada_data 
END) AS drogas_cannabis,

-- Coca√≠na
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)F14') 
    THEN ea.entrada_data 
END) AS drogas_cocaina,

-- M√∫ltiplas drogas
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)F19') 
    THEN ea.entrada_data 
END) AS drogas_multiplas
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| F11 | Transtornos mentais e comportamentais devidos ao uso de opi√°ceos |
| F12 | Transtornos mentais e comportamentais devidos ao uso de canabinoides |
| F13 | Transtornos mentais e comportamentais devidos ao uso de sedativos e hipn√≥ticos |
| F14 | Transtornos mentais e comportamentais devidos ao uso de coca√≠na |
| F15 | Transtornos mentais e comportamentais devidos ao uso de outros estimulantes, inclusive a cafe√≠na |
| F16 | Transtornos mentais e comportamentais devidos ao uso de alucin√≥genos |
| F18 | Transtornos mentais e comportamentais devidos ao uso de solventes vol√°teis |
| F19 | Transtornos mentais e comportamentais devidos ao uso de m√∫ltiplas drogas |

---

## 11.3. TABAGISMO

### **Descri√ß√£o:**
Depend√™ncia de tabaco/nicotina.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** F17, Z72.0

### **Vari√°vel:**
- `tabaco` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- Identifica√ß√£o de Tabagismo
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)(F17|Z720)') 
    THEN ea.entrada_data 
END) AS tabaco
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| F17 | Transtornos mentais e comportamentais devidos ao uso de fumo |
| Z72.0 | Uso de tabaco |

---

<a name="nutricionais"></a>
# 12. DIST√öRBIOS NUTRICIONAIS

---

## 12.1. DESNUTRI√á√ÉO

### **Descri√ß√£o:**
Defici√™ncia nutricional proteico-cal√≥rica.

### **Crit√©rios de Inclus√£o:**
- **CID-10:** E40-E46
- **IMC < 18.5 kg/m¬≤** persistente

### **Vari√°vel:**
- `desnutricao` (DATE) - Data do primeiro diagn√≥stico

### **Algoritmo de Identifica√ß√£o:**

```sql
-- ========================================
-- DESNUTRI√á√ÉO POR CID
-- ========================================
MAX(CASE 
    WHEN REGEXP_CONTAINS(ea.condicoes_avaliadas, r'(?i)E4[0-6]') 
    THEN ea.entrada_data 
END) AS desnutricao_por_CID,

-- ========================================
-- DESNUTRI√á√ÉO POR IMC
-- ========================================
MIN(CASE 
    WHEN IMC_mais_recente < 18.5
         AND (
             SELECT COUNT(*) 
             FROM medidas m2 
             WHERE m2.cpf = m.cpf 
               AND (m2.peso / POWER(m2.altura, 2)) < 18.5
               AND m2.data_medicao <= m.data_medicao
         ) >= 2  -- Persistente
    THEN data_medicao
END) AS desnutricao_por_IMC,

-- Consolida√ß√£o
LEAST(desnutricao_por_CID, desnutricao_por_IMC) AS desnutricao
```

### **CIDs Espec√≠ficos:**
| CID | Descri√ß√£o |
|-----|-----------|
| E40 | Kwashiorkor |
| E41 | Marasmo nutricional |
| E42 | Kwashiorkor marasm√°tico |
| E43 | Desnutri√ß√£o proteico-cal√≥rica grave n√£o especificada |
| E44 | Desnutri√ß√£o proteico-cal√≥rica de graus moderado e leve |
| E45 | Atraso do desenvolvimento devido √† desnutri√ß√£o proteico-cal√≥rica |
| E46 | Desnutri√ß√£o proteico-cal√≥rica n√£o especificada |

---

# üìä RESUMO GERAL DAS MORBIDADES

## Total de Condi√ß√µes Rastreadas: **40+**

### Por Categoria:
- **Cardiovasculares:** 6 condi√ß√µes (HAS, CI, ICC, Stroke, Arritmia, Valvular)
- **Metab√≥licas:** 4 condi√ß√µes (DM, Pr√©-DM, Obesidade, Dislipidemia, Tireoide)
- **Renais:** 1 condi√ß√£o (IRC/DRC com estadiamento)
- **Respirat√≥rias:** 2 condi√ß√µes (COPD, Asma)
- **Neurol√≥gicas:** 3 condi√ß√µes (Dem√™ncia, Epilepsia, Parkinsonismo)
- **Psiqui√°tricas:** 3 condi√ß√µes (Depress√£o/Ansiedade, Psicoses, combinadas)
- **Neoplasias:** 10+ tipos espec√≠ficos
- **Hematol√≥gicas:** 2+ tipos (Anemias)
- **Gastrointestinais:** 2 condi√ß√µes (Hepatopatias, √ölcera p√©ptica)
- **Reumatol√≥gicas:** 3+ tipos (AR, L√∫pus, Artrose)
- **Infecciosas:** 1 condi√ß√£o (HIV)
- **Uso de Subst√¢ncias:** 3 condi√ß√µes (√Ålcool, Drogas, Tabaco)
- **Nutricionais:** 1 condi√ß√£o (Desnutri√ß√£o)

---

## üîç METODOLOGIA GERAL DE IDENTIFICA√á√ÉO

Todas as morbidades seguem um **algoritmo de identifica√ß√£o multimodal**:

1. **Identifica√ß√£o por CID-10** (epis√≥dios assistenciais)
2. **Identifica√ß√£o por exames laboratoriais** (quando aplic√°vel)
3. **Identifica√ß√£o por uso de medicamentos** (valida√ß√£o cruzada)
4. **Consolida√ß√£o** - Data mais antiga entre as fontes
5. **Valida√ß√£o** - Persist√™ncia/confirma√ß√£o em m√∫ltiplas medidas

---

**Este documento serve como refer√™ncia t√©cnica completa para o sistema de identifica√ß√£o de morbidades do Navegador Cl√≠nico.** üß≠

## Bases de Dados:

- `rj-sms.saude_historico_clinico.episodio_assistencial`
- `rj-sms.saude_historico_clinico.paciente`
- `rj-sms.brutos_prontuario_vitacare_historico.hiv`
- `rj-sms-sandbox.sub_pav_us.MM_eGFR`
- `rj-sms-sandbox.sub_pav_us.PA_A1C_glic_cpf_fix`

---

**Documento criado em:** 02/11/2025  
**Vers√£o:** 1.0  
**Autores:** Equipe de Analytics - SMS Rio de Janeiro