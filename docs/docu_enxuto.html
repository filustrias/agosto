<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>DocumentaÃ§Ã£o da tabela fato (MM_exames_e_risco_A1C) â€“ Multimorbidade</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./pente_fino_HAS.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-707d8167ce6003fca903bfe2be84ab7f.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-cf0de2a877c7d4b42ae21f6d8e35c82d.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-d79f8217e01dd2a5306137134a907536.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-cf0de2a877c7d4b42ae21f6d8e35c82d.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./docu_enxuto.html">DocumentaÃ§Ã£o da tabela fato (MM_exames_e_risco_A1C)</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./logo.png" alt="" class="sidebar-logo light-content py-0 d-lg-inline d-none">
      <img src="./logo.png" alt="" class="sidebar-logo dark-content py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Multimorbidade</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ApresentaÃ§Ã£o</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./etapas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Etapas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CIDs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CIDs</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./HAS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">HipertensÃ£o arterial</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./DM.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Diabetes Mellitus</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CI.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SÃ­ndromes Coronarianas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ICC.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">InsuficiÃªncia CardÃ­aca</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./IRC.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoenÃ§a renal crÃ´nica</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./MM.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multimorbidade</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./PoliF.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PolifarmÃ¡cia</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./fragil.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fragilidade em idosos</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lacunas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ğŸ“‹ LACUNAS DE CUIDADO -</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pilula_CI.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PÃ­lulas SÃ­ndrome Coronariana CrÃ´nica</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pilulas_IC.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PÃ­lulas para InsuficiÃªncia CardÃ­aca</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./implementacao.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ImplementaÃ§Ã£o</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rastreios.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Rastreios neoplasias</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pente_fino_DM.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pente Fino Diabetes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pente_fino_HAS.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pente Fino HAS</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./docu_enxuto.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">DocumentaÃ§Ã£o da tabela fato (MM_exames_e_risco_A1C)</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#visÃ£o-geral" id="toc-visÃ£o-geral" class="nav-link active" data-scroll-target="#visÃ£o-geral">VisÃ£o Geral</a>
  <ul class="collapse">
  <li><a href="#objetivo" id="toc-objetivo" class="nav-link" data-scroll-target="#objetivo">Objetivo</a></li>
  <li><a href="#localizaÃ§Ã£o" id="toc-localizaÃ§Ã£o" class="nav-link" data-scroll-target="#localizaÃ§Ã£o">LocalizaÃ§Ã£o</a></li>
  <li><a href="#granularidade" id="toc-granularidade" class="nav-link" data-scroll-target="#granularidade">Granularidade</a></li>
  <li><a href="#critÃ©rios-de-inclusÃ£o" id="toc-critÃ©rios-de-inclusÃ£o" class="nav-link" data-scroll-target="#critÃ©rios-de-inclusÃ£o">CritÃ©rios de InclusÃ£o</a></li>
  <li><a href="#ctes-envolvidas" id="toc-ctes-envolvidas" class="nav-link" data-scroll-target="#ctes-envolvidas">CTEs Envolvidas</a></li>
  <li><a href="#uso-no-dashboard" id="toc-uso-no-dashboard" class="nav-link" data-scroll-target="#uso-no-dashboard">Uso no Dashboard</a></li>
  </ul></li>
  <li><a href="#seÃ§Ã£o-2-exames-laboratoriais" id="toc-seÃ§Ã£o-2-exames-laboratoriais" class="nav-link" data-scroll-target="#seÃ§Ã£o-2-exames-laboratoriais">SeÃ§Ã£o 2: Exames Laboratoriais</a>
  <ul class="collapse">
  <li><a href="#objetivo-clÃ­nico" id="toc-objetivo-clÃ­nico" class="nav-link" data-scroll-target="#objetivo-clÃ­nico">Objetivo ClÃ­nico</a></li>
  <li><a href="#exames-capturados" id="toc-exames-capturados" class="nav-link" data-scroll-target="#exames-capturados">Exames Capturados</a></li>
  <li><a href="#ctes-envolvidas-1" id="toc-ctes-envolvidas-1" class="nav-link" data-scroll-target="#ctes-envolvidas-1">CTEs Envolvidas</a></li>
  <li><a href="#uso-no-dashboard-1" id="toc-uso-no-dashboard-1" class="nav-link" data-scroll-target="#uso-no-dashboard-1">Uso no Dashboard</a></li>
  </ul></li>
  <li><a href="#seÃ§Ã£o-3-dados-demogrÃ¡ficos-e-de-cadastro" id="toc-seÃ§Ã£o-3-dados-demogrÃ¡ficos-e-de-cadastro" class="nav-link" data-scroll-target="#seÃ§Ã£o-3-dados-demogrÃ¡ficos-e-de-cadastro">SeÃ§Ã£o 3: Dados DemogrÃ¡ficos e de Cadastro</a>
  <ul class="collapse">
  <li><a href="#objetivo-clÃ­nico-1" id="toc-objetivo-clÃ­nico-1" class="nav-link" data-scroll-target="#objetivo-clÃ­nico-1">Objetivo ClÃ­nico</a></li>
  <li><a href="#cte-dados_paciente" id="toc-cte-dados_paciente" class="nav-link" data-scroll-target="#cte-dados_paciente">CTE: <code>dados_paciente</code></a></li>
  <li><a href="#uso-no-dashboard-2" id="toc-uso-no-dashboard-2" class="nav-link" data-scroll-target="#uso-no-dashboard-2">Uso no Dashboard</a></li>
  </ul></li>
  <li><a href="#seÃ§Ã£o-4-medidas-antropomÃ©tricas" id="toc-seÃ§Ã£o-4-medidas-antropomÃ©tricas" class="nav-link" data-scroll-target="#seÃ§Ã£o-4-medidas-antropomÃ©tricas">SeÃ§Ã£o 4: Medidas AntropomÃ©tricas</a>
  <ul class="collapse">
  <li><a href="#objetivo-clÃ­nico-2" id="toc-objetivo-clÃ­nico-2" class="nav-link" data-scroll-target="#objetivo-clÃ­nico-2">Objetivo ClÃ­nico</a></li>
  <li><a href="#cte-ultimas_medidas_antropometricas" id="toc-cte-ultimas_medidas_antropometricas" class="nav-link" data-scroll-target="#cte-ultimas_medidas_antropometricas">CTE: <code>ultimas_medidas_antropometricas</code></a></li>
  <li><a href="#uso-no-dashboard-3" id="toc-uso-no-dashboard-3" class="nav-link" data-scroll-target="#uso-no-dashboard-3">Uso no Dashboard</a></li>
  </ul></li>
  <li><a href="#seÃ§Ã£o-5-morbidades-por-cid" id="toc-seÃ§Ã£o-5-morbidades-por-cid" class="nav-link" data-scroll-target="#seÃ§Ã£o-5-morbidades-por-cid">SeÃ§Ã£o 5: Morbidades por CID</a>
  <ul class="collapse">
  <li><a href="#objetivo-clÃ­nico-3" id="toc-objetivo-clÃ­nico-3" class="nav-link" data-scroll-target="#objetivo-clÃ­nico-3">Objetivo ClÃ­nico</a></li>
  <li><a href="#ctes-envolvidas-2" id="toc-ctes-envolvidas-2" class="nav-link" data-scroll-target="#ctes-envolvidas-2">CTEs Envolvidas</a></li>
  <li><a href="#catÃ¡logo-de-morbidades" id="toc-catÃ¡logo-de-morbidades" class="nav-link" data-scroll-target="#catÃ¡logo-de-morbidades">CatÃ¡logo de Morbidades</a></li>
  <li><a href="#uso-no-dashboard-4" id="toc-uso-no-dashboard-4" class="nav-link" data-scroll-target="#uso-no-dashboard-4">Uso no Dashboard</a></li>
  </ul></li>
  <li><a href="#seÃ§Ã£o-5b-critÃ©rios-expandidos-de-has" id="toc-seÃ§Ã£o-5b-critÃ©rios-expandidos-de-has" class="nav-link" data-scroll-target="#seÃ§Ã£o-5b-critÃ©rios-expandidos-de-has">SeÃ§Ã£o 5B: CritÃ©rios Expandidos de HAS</a>
  <ul class="collapse">
  <li><a href="#objetivo-clÃ­nico-4" id="toc-objetivo-clÃ­nico-4" class="nav-link" data-scroll-target="#objetivo-clÃ­nico-4">Objetivo ClÃ­nico</a></li>
  <li><a href="#ctes-envolvidas-3" id="toc-ctes-envolvidas-3" class="nav-link" data-scroll-target="#ctes-envolvidas-3">CTEs Envolvidas</a></li>
  <li><a href="#uso-no-dashboard-5" id="toc-uso-no-dashboard-5" class="nav-link" data-scroll-target="#uso-no-dashboard-5">Uso no Dashboard</a></li>
  <li><a href="#ctes-envolvidas-4" id="toc-ctes-envolvidas-4" class="nav-link" data-scroll-target="#ctes-envolvidas-4">CTEs Envolvidas</a></li>
  <li><a href="#uso-no-dashboard-6" id="toc-uso-no-dashboard-6" class="nav-link" data-scroll-target="#uso-no-dashboard-6">Uso no Dashboard</a></li>
  <li><a href="#ctes-envolvidas-5" id="toc-ctes-envolvidas-5" class="nav-link" data-scroll-target="#ctes-envolvidas-5">CTEs Envolvidas</a></li>
  <li><a href="#uso-no-dashboard-7" id="toc-uso-no-dashboard-7" class="nav-link" data-scroll-target="#uso-no-dashboard-7">Uso no Dashboard</a></li>
  <li><a href="#ctes-envolvidas-6" id="toc-ctes-envolvidas-6" class="nav-link" data-scroll-target="#ctes-envolvidas-6">CTEs Envolvidas</a></li>
  <li><a href="#ctes-envolvidas-7" id="toc-ctes-envolvidas-7" class="nav-link" data-scroll-target="#ctes-envolvidas-7">CTEs Envolvidas</a></li>
  <li><a href="#uso-no-dashboard-8" id="toc-uso-no-dashboard-8" class="nav-link" data-scroll-target="#uso-no-dashboard-8">Uso no Dashboard</a></li>
  <li><a href="#cÃ¡lculo-do-egfr-ckd-epi-2021" id="toc-cÃ¡lculo-do-egfr-ckd-epi-2021" class="nav-link" data-scroll-target="#cÃ¡lculo-do-egfr-ckd-epi-2021">CÃ¡lculo do eGFR (CKD-EPI 2021)</a></li>
  <li><a href="#estadiamento-ckd-ckd_stage" id="toc-estadiamento-ckd-ckd_stage" class="nav-link" data-scroll-target="#estadiamento-ckd-ckd_stage">Estadiamento CKD (<code>ckd_stage</code>)</a></li>
  <li><a href="#ctes-envolvidas-8" id="toc-ctes-envolvidas-8" class="nav-link" data-scroll-target="#ctes-envolvidas-8">CTEs Envolvidas</a></li>
  <li><a href="#classes-terapÃªuticas-e-padrÃµes-regex" id="toc-classes-terapÃªuticas-e-padrÃµes-regex" class="nav-link" data-scroll-target="#classes-terapÃªuticas-e-padrÃµes-regex">Classes TerapÃªuticas e PadrÃµes REGEX</a></li>
  <li><a href="#exames-monitorados" id="toc-exames-monitorados" class="nav-link" data-scroll-target="#exames-monitorados">Exames Monitorados</a></li>
  <li><a href="#cte-pontuacao_framingham" id="toc-cte-pontuacao_framingham" class="nav-link" data-scroll-target="#cte-pontuacao_framingham">CTE: <code>pontuacao_framingham</code></a></li>
  <li><a href="#categorias-de-risco" id="toc-categorias-de-risco" class="nav-link" data-scroll-target="#categorias-de-risco">Categorias de Risco</a></li>
  <li><a href="#cte-charlson_componentes" id="toc-cte-charlson_componentes" class="nav-link" data-scroll-target="#cte-charlson_componentes">CTE: <code>charlson_componentes</code></a></li>
  <li><a href="#pesos-por-morbidade" id="toc-pesos-por-morbidade" class="nav-link" data-scroll-target="#pesos-por-morbidade">Pesos por Morbidade</a></li>
  <li><a href="#pontos-por-polifarmÃ¡cia" id="toc-pontos-por-polifarmÃ¡cia" class="nav-link" data-scroll-target="#pontos-por-polifarmÃ¡cia">Pontos por PolifarmÃ¡cia</a></li>
  <li><a href="#estratificaÃ§Ã£o" id="toc-estratificaÃ§Ã£o" class="nav-link" data-scroll-target="#estratificaÃ§Ã£o">EstratificaÃ§Ã£o</a></li>
  <li><a href="#uso-no-select-final" id="toc-uso-no-select-final" class="nav-link" data-scroll-target="#uso-no-select-final">Uso no SELECT Final</a></li>
  <li><a href="#categoria-2-cardiopatia-isquÃªmica" id="toc-categoria-2-cardiopatia-isquÃªmica" class="nav-link" data-scroll-target="#categoria-2-cardiopatia-isquÃªmica">Categoria 2: Cardiopatia IsquÃªmica</a></li>
  <li><a href="#estratificaÃ§Ã£o-sbc" id="toc-estratificaÃ§Ã£o-sbc" class="nav-link" data-scroll-target="#estratificaÃ§Ã£o-sbc">EstratificaÃ§Ã£o SBC</a></li>
  <li><a href="#ckd-epi-2021" id="toc-ckd-epi-2021" class="nav-link" data-scroll-target="#ckd-epi-2021">CKD-EPI 2021</a></li>
  <li><a href="#atp-iii-dislipidemia" id="toc-atp-iii-dislipidemia" class="nav-link" data-scroll-target="#atp-iii-dislipidemia">ATP III (Dislipidemia)</a></li>
  <li><a href="#charlson-comorbidity-index" id="toc-charlson-comorbidity-index" class="nav-link" data-scroll-target="#charlson-comorbidity-index">Charlson Comorbidity Index</a></li>
  <li><a href="#metas-de-controle" id="toc-metas-de-controle" class="nav-link" data-scroll-target="#metas-de-controle">Metas de Controle</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">DocumentaÃ§Ã£o da tabela fato (MM_exames_e_risco_A1C)</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="visÃ£o-geral" class="level2">
<h2 class="anchored" data-anchor-id="visÃ£o-geral">VisÃ£o Geral</h2>
<section id="objetivo" class="level3">
<h3 class="anchored" data-anchor-id="objetivo">Objetivo</h3>
<p>A tabela <code>rj-sms-sandbox.sub_pav_us.MM_exames_e_risco_A1C</code> Ã© a <strong>tabela fato principal</strong> do Navegador ClÃ­nico de Multimorbidade. Consolida dados de mÃºltiplas fontes em <strong>uma linha por paciente (CPF)</strong>, integrando:</p>
<ul>
<li>Dados demogrÃ¡ficos e de cadastro na ESF</li>
<li>56 morbidades identificadas por CID</li>
<li>DiagnÃ³sticos expandidos de HAS e DM (CID + medidas + medicamentos)</li>
<li>Exames laboratoriais e medidas antropomÃ©tricas</li>
<li>CÃ¡lculos de risco cardiovascular (Framingham + estratificaÃ§Ã£o SBC)</li>
<li>Ãndice de Charlson modificado</li>
<li>HistÃ³rico de controle de condiÃ§Ãµes crÃ´nicas</li>
<li>Mais de 30 lacunas de cuidado identificadas</li>
</ul>
</section>
<section id="localizaÃ§Ã£o" class="level3">
<h3 class="anchored" data-anchor-id="localizaÃ§Ã£o">LocalizaÃ§Ã£o</h3>
<pre><code>Projeto: rj-sms-sandbox
Dataset: sub_pav_us
Tabela: MM_exames_e_risco_A1C</code></pre>
</section>
<section id="granularidade" class="level3">
<h3 class="anchored" data-anchor-id="granularidade">Granularidade</h3>
<p><strong>1 linha por CPF</strong> - cada paciente aparece uma Ãºnica vez na tabela final.</p>
</section>
<section id="critÃ©rios-de-inclusÃ£o" class="level3">
<h3 class="anchored" data-anchor-id="critÃ©rios-de-inclusÃ£o">CritÃ©rios de InclusÃ£o</h3>
<ul>
<li>CPF vÃ¡lido (nÃ£o nulo)</li>
<li>Sem indicador de Ã³bito (<code>obito_indicador = FALSE</code>)</li>
<li>Sem data de Ã³bito (<code>obito_data IS NULL</code>)</li>
<li>Cadastrado em ESF (nÃ£o ESB - Equipe de SaÃºde Bucal)</li>
<li>INE de cadastro nÃ£o nulo</li>
</ul>
<hr>
<p>## Arquitetura de Dados</p>
<p>### Fluxo Geral das CTEs</p>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           FONTES DE DADOS                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ brutos_prontuario_vitacare_historico.hiv                                  â”‚
â”‚ â€¢ brutos_prontuario_vitacare_historico.acto                                 â”‚
â”‚ â€¢ saude_historico_clinico.episodio_assistencial                             â”‚
â”‚ â€¢ saude_historico_clinico.exame                                             â”‚
â”‚ â€¢ saude_historico_clinico.paciente                                          â”‚
â”‚ â€¢ brutos_cientificalab.solicitacoes/exames/resultados                       â”‚
â”‚ â€¢ brutos_prontuario_vitacare.atendimento                                    â”‚
â”‚ â€¢ sub_pav_us.indicadores_vitacare_fix (tabela auxiliar com correÃ§Ãµes)       â”‚
â”‚ â€¢ sub_pav_us.PA_A1C_glic_cpf_fix (tabela auxiliar com correÃ§Ãµes)            â”‚
â”‚ â€¢ sub_pav_us.MM_mantidos_alterados_ultimas (medicamentos crÃ´nicos)          â”‚
â”‚ â€¢ saude_dados_mestres.estabelecimento                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        SEÃ‡ÃƒO 1: HIV/AIDS                                     â”‚
â”‚  hiv_cpf_raw â†’ hiv_cpf â†’ exames_hiv_cpf_raw â†’ exames_hiv_cpf_last           â”‚
â”‚                       â†’ hiv_completo                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   SEÃ‡ÃƒO 2: EXAMES LABORATORIAIS                              â”‚
â”‚  exames_historico â”€â”                                                         â”‚
â”‚  exames_cientifica â”¼â†’ todos_exames â†’ exames_filtrados â†’ exames_mais_recentes â”‚
â”‚                    â”‚                                  â†’ exames_pivot          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   SEÃ‡ÃƒO 3: DADOS DEMOGRÃFICOS                                â”‚
â”‚                        dados_paciente                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                SEÃ‡ÃƒO 4: MEDIDAS ANTROPOMÃ‰TRICAS                              â”‚
â”‚                 ultimas_medidas_antropometricas                              â”‚
â”‚            (fontes: indicadores_vitacare_fix + episodio)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   SEÃ‡ÃƒO 5: MORBIDADES POR CID                                â”‚
â”‚              morbidades_base â†’ morbidades_por_cid                            â”‚
â”‚                    (56 condiÃ§Ãµes clÃ­nicas)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SEÃ‡ÃƒO 5B: CRITÃ‰RIOS EXPANDIDOS HAS                              â”‚
â”‚  todas_medidas_pa â†’ criterios_has_medidas                                    â”‚
â”‚                   â†’ criterios_has_medicamentos                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SEÃ‡ÃƒO 5C: CRITÃ‰RIOS EXPANDIDOS DM                               â”‚
â”‚  todas_medidas_glicemia â†’ criterios_dm_medidas                               â”‚
â”‚                         â†’ criterios_dm_medicamentos                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SEÃ‡ÃƒO 5D: CONSOLIDAÃ‡ÃƒO HAS + DM                                 â”‚
â”‚                      has_dm_consolidado                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SEÃ‡ÃƒO 5E: PROGRESSÃƒO GLICÃŠMICA                                  â”‚
â”‚  hba1c_progressao â†’ progressao_glicemica                                     â”‚
â”‚  historico_controle_glicemia â†’ resumo_controle_glicemia                      â”‚
â”‚  ultimas_medidas_glicemia                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SEÃ‡ÃƒO 5F: PROGRESSÃƒO PRESSÃ“RICA                                 â”‚
â”‚  todas_medidas_pa_completas â†’ pa_progressao â†’ progressao_pressao             â”‚
â”‚  historico_controle_pa â†’ resumo_controle_pa                                  â”‚
â”‚  ultimas_medidas_pa                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   SEÃ‡ÃƒO 6: CONSULTAS                                         â”‚
â”‚  contagem_consultas_detalhada â†’ intervalos_consultas â†’ contagem_consultas    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SEÃ‡ÃƒO 7: CONSOLIDAÃ‡ÃƒO COM eGFR                                  â”‚
â”‚  dados_consolidados (JOIN de todas as CTEs anteriores)                       â”‚
â”‚  + CÃ¡lculo CKD-EPI 2021 + Estadiamento CKD                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           SEÃ‡ÃƒO 7A: MORBIDADES CONSOLIDADAS                                  â”‚
â”‚  dados_com_irc â†’ dados_com_hiv â†’ dados_com_dislipidemia                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           SEÃ‡ÃƒO 7B: MULTIMORBIDADE                                           â”‚
â”‚  morbidades_array â†’ dados_com_multimorbidade                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           SEÃ‡ÃƒO 9: FRAMINGHAM                                                â”‚
â”‚  pontuacao_framingham â†’ risco_calculado                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           SEÃ‡ÃƒO 10: RISCO CARDIOVASCULAR SBC                                 â”‚
â”‚               risco_cardiovascular_estratificado                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           SEÃ‡ÃƒO 11: CHARLSON INDEX                                           â”‚
â”‚  charlson_componentes â†’ charlson_final                                       â”‚
â”‚  (inclui JOIN com MM_mantidos_alterados_ultimas para polifarmÃ¡cia)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           BENCHMARK DE CONSULTAS                                             â”‚
â”‚               benchmark_consultas                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SELECT FINAL                                            â”‚
â”‚  â€¢ Todos os campos consolidados                                              â”‚
â”‚  â€¢ Lacunas de cuidado calculadas                                             â”‚
â”‚  â€¢ Flags de inequidade                                                       â”‚
â”‚  â€¢ OrdenaÃ§Ã£o por risco cardiovascular                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>
<hr>
<p>## SeÃ§Ã£o 1: IdentificaÃ§Ã£o de HIV/AIDS</p>
<p>### Objetivo ClÃ­nico Identificar pacientes com HIV/AIDS utilizando <strong>duas fontes complementares</strong>: 1. Base especÃ­fica de HIV do Vitacare (registro histÃ³rico) 2. Exames de CD4 e carga viral do episÃ³dio assistencial</p>
</section>
<section id="ctes-envolvidas" class="level3">
<h3 class="anchored" data-anchor-id="ctes-envolvidas">CTEs Envolvidas</h3>
<section id="hiv_cpf_raw" class="level4">
<h4 class="anchored" data-anchor-id="hiv_cpf_raw"><code>hiv_cpf_raw</code></h4>
<p><strong>Fonte</strong>: <code>brutos_prontuario_vitacare_historico.hiv</code> + <code>brutos_prontuario_vitacare_historico.acto</code></p>
<p><strong>Objetivo</strong>: Extrair CPFs de pacientes com registro na base de HIV do Vitacare.</p>
<p><strong>Campos capturados</strong>: - <code>id_prontuario_global</code>: Identificador do prontuÃ¡rio - <code>id_cnes</code>: Unidade de saÃºde - <code>ano_diagnostico</code>: Ano do diagnÃ³stico de AIDS (campo <code>aids_doenca_atual_ano_1_teste</code>) - <code>cpf</code>: CPF limpo (apenas dÃ­gitos, via REGEXP_REPLACE)</p>
<p><strong>Regra de negÃ³cio</strong>: Remove caracteres nÃ£o numÃ©ricos do CPF.</p>
</section>
<section id="hiv_cpf" class="level4">
<h4 class="anchored" data-anchor-id="hiv_cpf"><code>hiv_cpf</code></h4>
<p><strong>Objetivo</strong>: Deduplica a CTE anterior, mantendo apenas CPFs com 11 dÃ­gitos.</p>
<p><strong>Regra de deduplicaÃ§Ã£o</strong>: <code>ROW_NUMBER() OVER (PARTITION BY cpf ORDER BY id_prontuario_global DESC)</code> - mantÃ©m o registro mais recente por prontuÃ¡rio.</p>
</section>
<section id="exames_hiv_cpf_raw" class="level4">
<h4 class="anchored" data-anchor-id="exames_hiv_cpf_raw"><code>exames_hiv_cpf_raw</code></h4>
<p><strong>Fonte</strong>: <code>saude_historico_clinico.episodio_assistencial</code> (campo <code>exames_realizados</code>)</p>
<p><strong>Objetivo</strong>: Identificar pacientes com exames de CD4 ou carga viral, indicativos de HIV.</p>
<p><strong>PadrÃ£o REGEX utilizado</strong>: <code>sql REGEXP_CONTAINS(er.descricao, r'(?i)\b(cd4|cv|carga viral)\b')</code></p>
<p><strong>Campos capturados</strong>: - <code>id_hci</code>: ID do episÃ³dio - <code>entrada_data</code>: Data do exame - <code>tipo</code>, <code>descricao</code>: Detalhes do exame - <code>cpf</code>: CPF limpo</p>
</section>
<section id="exames_hiv_cpf_last" class="level4">
<h4 class="anchored" data-anchor-id="exames_hiv_cpf_last"><code>exames_hiv_cpf_last</code></h4>
<p><strong>Objetivo</strong>: MantÃ©m apenas o exame mais recente por CPF.</p>
<p><strong>Regra de deduplicaÃ§Ã£o</strong>: <code>ORDER BY entrada_data DESC, id_hci DESC</code></p>
</section>
<section id="hiv_completo" class="level4">
<h4 class="anchored" data-anchor-id="hiv_completo"><code>hiv_completo</code></h4>
<p><strong>Objetivo</strong>: Consolida as duas fontes de HIV em uma Ãºnica CTE.</p>
<p><strong>Campos produzidos</strong>: | Campo | Tipo | DescriÃ§Ã£o | |â€”â€”-|â€”â€”|â€”â€”â€”â€“| | <code>cpf</code> | STRING | CPF do paciente | | <code>id_prontuario_global</code> | STRING | ID do prontuÃ¡rio Vitacare | | <code>id_cnes</code> | STRING | Unidade onde foi registrado | | <code>ano_diagnostico</code> | STRING | Ano do diagnÃ³stico de AIDS | | <code>data_ultimo_exame_hiv</code> | DATE | Data do Ãºltimo CD4/CV | | <code>data_diagnostico_hiv</code> | DATE | Ano convertido para DATE (01/01/ano) |</p>
<p><strong>ValidaÃ§Ã£o do ano de diagnÃ³stico</strong>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>SAFE_CAST(ano_diagnostico <span class="kw">AS</span> INT64) <span class="op">&gt;=</span> <span class="dv">1980</span>  <span class="co">-- HIV surgiu nos anos 80</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>SAFE_CAST(ano_diagnostico <span class="kw">AS</span> INT64) <span class="op">&lt;=</span> <span class="fu">EXTRACT</span>(<span class="dt">YEAR</span> <span class="kw">FROM</span> <span class="fu">CURRENT_DATE</span>())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
</section>
<section id="uso-no-dashboard" class="level3">
<h3 class="anchored" data-anchor-id="uso-no-dashboard">Uso no Dashboard</h3>
<ul>
<li>IdentificaÃ§Ã£o de pacientes com HIV para acompanhamento diferenciado</li>
<li>CÃ¡lculo de multimorbidade (HIV conta como uma morbidade)</li>
<li>Lacunas de cuidado especÃ­ficas para PVHIV</li>
</ul>
<hr>
</section>
</section>
<section id="seÃ§Ã£o-2-exames-laboratoriais" class="level2">
<h2 class="anchored" data-anchor-id="seÃ§Ã£o-2-exames-laboratoriais">SeÃ§Ã£o 2: Exames Laboratoriais</h2>
<section id="objetivo-clÃ­nico" class="level3">
<h3 class="anchored" data-anchor-id="objetivo-clÃ­nico">Objetivo ClÃ­nico</h3>
<p>Consolidar resultados de exames laboratoriais de <strong>mÃºltiplas fontes</strong>, mantendo apenas o resultado mais recente de cada tipo de exame por paciente.</p>
</section>
<section id="exames-capturados" class="level3">
<h3 class="anchored" data-anchor-id="exames-capturados">Exames Capturados</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>CÃ³digo</th>
<th>Exame</th>
<th>Faixa VÃ¡lida</th>
<th>Unidade</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>CRE</td>
<td>Creatinina</td>
<td>0.2 - 15</td>
<td>mg/dL</td>
</tr>
<tr class="even">
<td>COL</td>
<td>Colesterol Total</td>
<td>50 - 600</td>
<td>mg/dL</td>
</tr>
<tr class="odd">
<td>HDL</td>
<td>HDL-Colesterol</td>
<td>10 - 150</td>
<td>mg/dL</td>
</tr>
<tr class="even">
<td>LDL</td>
<td>LDL-Colesterol</td>
<td>20 - 400</td>
<td>mg/dL</td>
</tr>
<tr class="odd">
<td>TRI</td>
<td>TriglicerÃ­deos</td>
<td>20 - 1000</td>
<td>mg/dL</td>
</tr>
<tr class="even">
<td>GLI/GLU</td>
<td>Glicemia</td>
<td>30 - 500</td>
<td>mg/dL</td>
</tr>
<tr class="odd">
<td>HGL</td>
<td>Hemoglobina Glicada</td>
<td>3 - 20</td>
<td>%</td>
</tr>
</tbody>
</table>
</section>
<section id="ctes-envolvidas-1" class="level3">
<h3 class="anchored" data-anchor-id="ctes-envolvidas-1">CTEs Envolvidas</h3>
<section id="exames_historico" class="level4">
<h4 class="anchored" data-anchor-id="exames_historico"><code>exames_historico</code></h4>
<p><strong>Fonte</strong>: <code>saude_historico_clinico.exame</code> (UNNEST do array <code>exames</code>)</p>
<p><strong>Objetivo</strong>: Extrair exames da base histÃ³rica consolidada.</p>
<p><strong>Campos capturados</strong>: - <code>paciente_cpf</code> - <code>cod_exame</code>: CÃ³digo do exame (CRE, COL, etc.) - <code>unidade</code> - <code>resultado_num</code>: Resultado convertido para FLOAT64 - <code>data_exame</code>: Data parseada do formato <code>%d/%m/%Y %H:%M:%S</code></p>
<p><strong>Filtros aplicados</strong>: - Resultado nÃ£o nulo - CÃ³digo do exame na lista definida - CPF nÃ£o nulo - Resultado &gt; 0 e &lt; 10000 (sanidade)</p>
</section>
<section id="exames_cientifica" class="level4">
<h4 class="anchored" data-anchor-id="exames_cientifica"><code>exames_cientifica</code></h4>
<p><strong>Fonte</strong>: <code>brutos_cientificalab.solicitacoes</code> + <code>brutos_cientificalab.exames</code> + <code>brutos_cientificalab.resultados</code></p>
<p><strong>Objetivo</strong>: Extrair exames do laboratÃ³rio CientÃ­fica (rede municipal).</p>
<p><strong>Estrutura de JOINs</strong>:</p>
<pre><code>solicitacoes (paciente_cpf) 
    â†’ exames (cod_apoio, data_assinatura) 
    â†’ resultados (resultado)</code></pre>
<p><strong>Mesmos filtros de validaÃ§Ã£o da CTE anterior</strong>.</p>
</section>
<section id="todos_exames" class="level4">
<h4 class="anchored" data-anchor-id="todos_exames"><code>todos_exames</code></h4>
<p><strong>Objetivo</strong>: UNION ALL das fontes de exames.</p>
</section>
<section id="exames_filtrados" class="level4">
<h4 class="anchored" data-anchor-id="exames_filtrados"><code>exames_filtrados</code></h4>
<p><strong>Objetivo</strong>: Aplica filtros de faixa vÃ¡lida especÃ­ficos por tipo de exame.</p>
<p><strong>Regras de filtragem</strong>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>(cod_exame <span class="op">=</span> <span class="st">'COL'</span> <span class="kw">AND</span> resultado_num <span class="kw">BETWEEN</span> <span class="dv">50</span> <span class="kw">AND</span> <span class="dv">600</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">OR</span> (cod_exame <span class="op">=</span> <span class="st">'HDL'</span> <span class="kw">AND</span> resultado_num <span class="kw">BETWEEN</span> <span class="dv">10</span> <span class="kw">AND</span> <span class="dv">150</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="kw">OR</span> (cod_exame <span class="op">=</span> <span class="st">'LDL'</span> <span class="kw">AND</span> resultado_num <span class="kw">BETWEEN</span> <span class="dv">20</span> <span class="kw">AND</span> <span class="dv">400</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="kw">OR</span> (cod_exame <span class="op">=</span> <span class="st">'TRI'</span> <span class="kw">AND</span> resultado_num <span class="kw">BETWEEN</span> <span class="dv">20</span> <span class="kw">AND</span> <span class="dv">1000</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="kw">OR</span> (cod_exame <span class="op">=</span> <span class="st">'GLI'</span> <span class="kw">AND</span> resultado_num <span class="kw">BETWEEN</span> <span class="dv">30</span> <span class="kw">AND</span> <span class="dv">500</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="kw">OR</span> (cod_exame <span class="op">=</span> <span class="st">'GLU'</span> <span class="kw">AND</span> resultado_num <span class="kw">BETWEEN</span> <span class="dv">30</span> <span class="kw">AND</span> <span class="dv">500</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="kw">OR</span> (cod_exame <span class="op">=</span> <span class="st">'HGL'</span> <span class="kw">AND</span> resultado_num <span class="kw">BETWEEN</span> <span class="dv">3</span> <span class="kw">AND</span> <span class="dv">20</span> <span class="kw">AND</span> unidade <span class="op">=</span> <span class="st">'%'</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="kw">OR</span> (cod_exame <span class="op">=</span> <span class="st">'CRE'</span> <span class="kw">AND</span> resultado_num <span class="kw">BETWEEN</span> <span class="fl">0.2</span> <span class="kw">AND</span> <span class="dv">15</span> <span class="kw">AND</span> unidade <span class="op">=</span> <span class="st">'mg/dL'</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="exames_mais_recentes" class="level4">
<h4 class="anchored" data-anchor-id="exames_mais_recentes"><code>exames_mais_recentes</code></h4>
<p><strong>Objetivo</strong>: MantÃ©m apenas o exame mais recente de cada tipo por CPF.</p>
<p><strong>Regra</strong>: <code>ROW_NUMBER() OVER (PARTITION BY paciente_cpf, cod_exame ORDER BY data_exame DESC) = 1</code></p>
</section>
<section id="exames_pivot" class="level4">
<h4 class="anchored" data-anchor-id="exames_pivot"><code>exames_pivot</code></h4>
<p><strong>Objetivo</strong>: TranspÃµe os exames de linhas para colunas, criando uma estrutura de 1 linha por paciente.</p>
<p><strong>Campos produzidos</strong>: | Campo | DescriÃ§Ã£o | |â€”â€”-|â€”â€”â€”â€“| | <code>cpf</code> | CPF do paciente | | <code>creatinina</code> | Ãšltimo valor de creatinina | | <code>colesterol_total</code> | Ãšltimo valor de colesterol total | | <code>hdl</code> | Ãšltimo valor de HDL | | <code>ldl</code> | Ãšltimo valor de LDL | | <code>triglicerides</code> | Ãšltimo valor de triglicerÃ­deos | | <code>glicemia</code> | Ãšltimo valor de glicemia (GLI ou GLU, com COALESCE) | | <code>hba1c</code> | Ãšltimo valor de HbA1c | | <code>data_creatinina</code> | Data do exame de creatinina | | <code>data_colesterol</code> | Data do exame de colesterol | | <code>data_hdl</code> | Data do exame de HDL | | <code>data_ldl</code> | Data do exame de LDL | | <code>data_glicemia</code> | Data do exame de glicemia | | <code>data_hba1c</code> | Data do exame de HbA1c | | <code>dias_desde_ultimo_exame</code> | Dias desde o exame mais recente (entre CRE, COL, HDL, LDL) | | <code>dias_desde_ultima_glicemia</code> | Dias desde Ãºltima glicemia |</p>
</section>
</section>
<section id="uso-no-dashboard-1" class="level3">
<h3 class="anchored" data-anchor-id="uso-no-dashboard-1">Uso no Dashboard</h3>
<ul>
<li>CÃ¡lculo de eGFR (requer creatinina)</li>
<li>EstratificaÃ§Ã£o de risco cardiovascular (requer perfil lipÃ­dico)</li>
<li>ClassificaÃ§Ã£o de dislipidemia (ATP III)</li>
<li>Controle glicÃªmico em diabÃ©ticos</li>
<li>IdentificaÃ§Ã£o de lacunas de exames laboratoriais</li>
</ul>
<hr>
</section>
</section>
<section id="seÃ§Ã£o-3-dados-demogrÃ¡ficos-e-de-cadastro" class="level2">
<h2 class="anchored" data-anchor-id="seÃ§Ã£o-3-dados-demogrÃ¡ficos-e-de-cadastro">SeÃ§Ã£o 3: Dados DemogrÃ¡ficos e de Cadastro</h2>
<section id="objetivo-clÃ­nico-1" class="level3">
<h3 class="anchored" data-anchor-id="objetivo-clÃ­nico-1">Objetivo ClÃ­nico</h3>
<p>Estabelecer a <strong>base de pacientes</strong> com seus dados demogrÃ¡ficos e vÃ­nculo com a ESF (Equipe de SaÃºde da FamÃ­lia).</p>
</section>
<section id="cte-dados_paciente" class="level3">
<h3 class="anchored" data-anchor-id="cte-dados_paciente">CTE: <code>dados_paciente</code></h3>
<p><strong>Fonte</strong>: <code>saude_historico_clinico.paciente</code> + <code>saude_dados_mestres.estabelecimento</code></p>
<p><strong>Campos produzidos</strong>:</p>
<section id="dados-pessoais" class="level4">
<h4 class="anchored" data-anchor-id="dados-pessoais">Dados Pessoais</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Campo</th>
<th>Tipo</th>
<th>DescriÃ§Ã£o</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>cpf</code></td>
<td>STRING</td>
<td>CPF do paciente</td>
</tr>
<tr class="even">
<td><code>nome</code></td>
<td>STRING</td>
<td>Nome completo</td>
</tr>
<tr class="odd">
<td><code>genero</code></td>
<td>STRING</td>
<td>â€œmasculinoâ€ ou â€œfemininoâ€</td>
</tr>
<tr class="even">
<td><code>data_nascimento</code></td>
<td>DATE</td>
<td>Data de nascimento</td>
</tr>
<tr class="odd">
<td><code>idade</code></td>
<td>INT64</td>
<td>Idade calculada em anos</td>
</tr>
<tr class="even">
<td><code>raca</code></td>
<td>STRING</td>
<td>RaÃ§a/cor autodeclarada</td>
</tr>
</tbody>
</table>
</section>
<section id="dados-de-cadastro-na-esf" class="level4">
<h4 class="anchored" data-anchor-id="dados-de-cadastro-na-esf">Dados de Cadastro na ESF</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Campo</th>
<th>Tipo</th>
<th>DescriÃ§Ã£o</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>id_ine_cadastro</code></td>
<td>STRING</td>
<td>INE da equipe de cadastro</td>
</tr>
<tr class="even">
<td><code>nome_esf_cadastro</code></td>
<td>STRING</td>
<td>Nome da ESF (sem numeraÃ§Ã£o romana)</td>
</tr>
<tr class="odd">
<td><code>id_cnes_cadastro</code></td>
<td>STRING</td>
<td>CNES da unidade de cadastro</td>
</tr>
<tr class="even">
<td><code>nome_clinica_cadastro</code></td>
<td>STRING</td>
<td>Nome da unidade (corrigido)</td>
</tr>
<tr class="odd">
<td><code>nome_medico_esf_cadastro</code></td>
<td>STRING</td>
<td>MÃ©dico da equipe</td>
</tr>
<tr class="even">
<td><code>nome_enfermeiro_esf_cadastro</code></td>
<td>STRING</td>
<td>Enfermeiro da equipe</td>
</tr>
<tr class="odd">
<td><code>area_programatica_cadastro</code></td>
<td>STRING</td>
<td>AP do estabelecimento</td>
</tr>
</tbody>
</table>
<p><strong>TransformaÃ§Ãµes aplicadas</strong>:</p>
<ol type="1">
<li><strong>RemoÃ§Ã£o de numeraÃ§Ã£o romana do nome da ESF</strong>:</li>
</ol>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">REGEXP_REPLACE</span>(</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    p.equipe_saude_familia[SAFE_OFFSET(<span class="dv">0</span>)].nome,</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    r<span class="st">'\s+(I|II|III|IV|V|VI|VII|VIII|IX|X|XI|XII|XIII|XIV|XV|XVI|XVII|XVIII|XIX|XX)\s*$'</span>, </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">''</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ol start="2" type="1">
<li><strong>CorreÃ§Ã£o de nome de unidade especÃ­fica</strong>:</li>
</ol>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">REPLACE</span>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    p.equipe_saude_familia[SAFE_OFFSET(<span class="dv">0</span>)].clinica_familia.nome,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Policlinica Newton Bethlem'</span>, </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'CMS Newton Bethlem'</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Filtros de exclusÃ£o</strong>: - CPF nulo - Ã“bito registrado (<code>obito_indicador = TRUE</code> ou <code>obito_data IS NOT NULL</code>) - ESB (Equipe de SaÃºde Bucal): <code>NOT REGEXP_CONTAINS(UPPER(...), r'ESB')</code> - INE nulo</p>
<p><strong>Nota importante</strong>: O array <code>equipe_saude_familia</code> Ã© acessado com <code>SAFE_OFFSET(0)</code> porque contÃ©m apenas um elemento por paciente (descoberta durante desenvolvimento).</p>
</section>
</section>
<section id="uso-no-dashboard-2" class="level3">
<h3 class="anchored" data-anchor-id="uso-no-dashboard-2">Uso no Dashboard</h3>
<ul>
<li>Filtros hierÃ¡rquicos (AP â†’ Unidade â†’ ESF)</li>
<li>IdentificaÃ§Ã£o de profissionais responsÃ¡veis</li>
<li>CÃ¡lculos que dependem de idade e gÃªnero (eGFR, Framingham)</li>
<li>EstratificaÃ§Ã£o populacional</li>
</ul>
<hr>
</section>
</section>
<section id="seÃ§Ã£o-4-medidas-antropomÃ©tricas" class="level2">
<h2 class="anchored" data-anchor-id="seÃ§Ã£o-4-medidas-antropomÃ©tricas">SeÃ§Ã£o 4: Medidas AntropomÃ©tricas</h2>
<section id="objetivo-clÃ­nico-2" class="level3">
<h3 class="anchored" data-anchor-id="objetivo-clÃ­nico-2">Objetivo ClÃ­nico</h3>
<p>Obter as medidas mais recentes de peso, altura e IMC para cÃ¡lculo de obesidade e avaliaÃ§Ã£o nutricional.</p>
</section>
<section id="cte-ultimas_medidas_antropometricas" class="level3">
<h3 class="anchored" data-anchor-id="cte-ultimas_medidas_antropometricas">CTE: <code>ultimas_medidas_antropometricas</code></h3>
<p><strong>Fontes</strong>: 1. <code>sub_pav_us.indicadores_vitacare_fix</code> - Dados corrigidos do Vitacare 2. <code>saude_historico_clinico.episodio_assistencial</code> - EpisÃ³dios assistenciais</p>
<p><strong>Campos produzidos</strong>: | Campo | Tipo | DescriÃ§Ã£o | |â€”â€”-|â€”â€”|â€”â€”â€”â€“| | <code>cpf</code> | STRING | CPF do paciente | | <code>peso</code> | FLOAT64 | Peso em kg | | <code>altura</code> | FLOAT64 | Altura em metros | | <code>IMC</code> | FLOAT64 | Ãndice de Massa Corporal calculado | | <code>obesidade_por_IMC</code> | BOOL | TRUE se IMC â‰¥ 30 | | <code>data_peso</code> | DATE | Data da mediÃ§Ã£o do peso | | <code>data_altura</code> | DATE | Data da mediÃ§Ã£o da altura | | <code>fonte</code> | STRING | â€œvitacareâ€ ou â€œepisodio_assistencialâ€ |</p>
<p><strong>LÃ³gica de consolidaÃ§Ã£o</strong>: 1. UNION ALL das duas fontes 2. DeduplicaÃ§Ã£o mantendo o registro mais recente: <code>ORDER BY COALESCE(data_peso, data_altura) DESC</code> 3. Uma Ãºnica linha por CPF (<code>rn_final = 1</code>)</p>
<p><strong>CÃ¡lculo do IMC</strong>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ROUND</span>(peso <span class="op">/</span> <span class="fu">POWER</span>(altura, <span class="dv">2</span>), <span class="dv">1</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>CritÃ©rio de obesidade</strong>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>IMC <span class="op">&gt;=</span> <span class="dv">30</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="uso-no-dashboard-3" class="level3">
<h3 class="anchored" data-anchor-id="uso-no-dashboard-3">Uso no Dashboard</h3>
<ul>
<li>ClassificaÃ§Ã£o nutricional</li>
<li>IdentificaÃ§Ã£o de obesidade (morbidade)</li>
<li>Lacuna de IMC nÃ£o calculÃ¡vel (falta peso ou altura)</li>
</ul>
<hr>
</section>
</section>
<section id="seÃ§Ã£o-5-morbidades-por-cid" class="level2">
<h2 class="anchored" data-anchor-id="seÃ§Ã£o-5-morbidades-por-cid">SeÃ§Ã£o 5: Morbidades por CID</h2>
<section id="objetivo-clÃ­nico-3" class="level3">
<h3 class="anchored" data-anchor-id="objetivo-clÃ­nico-3">Objetivo ClÃ­nico</h3>
<p>Identificar <strong>56 condiÃ§Ãµes clÃ­nicas</strong> atravÃ©s de cÃ³digos CID registrados nos episÃ³dios assistenciais. Para cada condiÃ§Ã£o, captura-se a <strong>primeira data de diagnÃ³stico</strong>.</p>
</section>
<section id="ctes-envolvidas-2" class="level3">
<h3 class="anchored" data-anchor-id="ctes-envolvidas-2">CTEs Envolvidas</h3>
<section id="morbidades_base" class="level4">
<h4 class="anchored" data-anchor-id="morbidades_base"><code>morbidades_base</code></h4>
<p><strong>Fonte</strong>: <code>saude_historico_clinico.episodio_assistencial</code> (UNNEST de <code>condicoes</code>)</p>
<p><strong>Objetivo</strong>: Extrair todos os pares CPF + CID + Data de entrada.</p>
<p><strong>Campos</strong>: - <code>cpf</code>: CPF limpo (11 dÃ­gitos) - <code>entrada_data</code>: Data do registro - <code>cid</code>: CÃ³digo CID</p>
</section>
<section id="morbidades_por_cid" class="level4">
<h4 class="anchored" data-anchor-id="morbidades_por_cid"><code>morbidades_por_cid</code></h4>
<p><strong>Objetivo</strong>: Agrupa por CPF e identifica a <strong>primeira data</strong> (MIN) de cada condiÃ§Ã£o.</p>
<p><strong>DeduplicaÃ§Ã£o</strong>: <code>QUALIFY ROW_NUMBER() OVER (PARTITION BY cpf ORDER BY cpf) = 1</code></p>
</section>
</section>
<section id="catÃ¡logo-de-morbidades" class="level3">
<h3 class="anchored" data-anchor-id="catÃ¡logo-de-morbidades">CatÃ¡logo de Morbidades</h3>
<section id="seÃ§Ã£o-1-morbidades-principais" class="level4">
<h4 class="anchored" data-anchor-id="seÃ§Ã£o-1-morbidades-principais">SeÃ§Ã£o 1: Morbidades Principais</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 32%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Campo</th>
<th>CondiÃ§Ã£o</th>
<th>PadrÃ£o REGEX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>HAS</code></td>
<td>HipertensÃ£o Arterial</td>
<td><code>^(I1[0-6]\|O1[01])</code></td>
</tr>
<tr class="even">
<td><code>DM</code></td>
<td>Diabetes Mellitus</td>
<td><code>^(E1[0-4]\|O24\|H360\|H280\|G632\|G590\|G990\|N083\|M142)</code></td>
</tr>
</tbody>
</table>
<p><strong>Nota</strong>: HAS e DM sÃ£o posteriormente expandidos com critÃ©rios de medidas e medicamentos.</p>
</section>
<section id="seÃ§Ã£o-2-cardiovasculares" class="level4">
<h4 class="anchored" data-anchor-id="seÃ§Ã£o-2-cardiovasculares">SeÃ§Ã£o 2: Cardiovasculares</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 32%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Campo</th>
<th>CondiÃ§Ã£o</th>
<th>PadrÃ£o REGEX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>CI</code></td>
<td>Cardiopatia IsquÃªmica</td>
<td><code>^(I2[0-5]\|Z95[15])</code></td>
</tr>
<tr class="even">
<td><code>ICC</code></td>
<td>InsuficiÃªncia CardÃ­aca</td>
<td><code>^(I110\|I13[02]\|I42[0-9]\|I43\|I50\|I517\|P290)</code></td>
</tr>
<tr class="odd">
<td><code>stroke</code></td>
<td>AVC/Stroke</td>
<td><code>^(I6\|G4[56]\|H340)</code></td>
</tr>
<tr class="even">
<td><code>arritmia</code></td>
<td>Arritmias (incl.&nbsp;FA)</td>
<td><code>^(I44[1-3]\|I45[69]\|I4[7-9]\|R00[018]\|T821\|Z45[05]\|Z950)</code></td>
</tr>
<tr class="odd">
<td><code>valvular</code></td>
<td>DoenÃ§a Valvar</td>
<td><code>^(A520\|I0[5-9]\|I34\|I3[5-9]\|Q23[0-3]\|Z95[2-4])</code></td>
</tr>
<tr class="even">
<td><code>circ_pulm</code></td>
<td>CirculaÃ§Ã£o Pulmonar</td>
<td><code>^(I2[6-8])</code></td>
</tr>
<tr class="odd">
<td><code>vascular_periferica</code></td>
<td>DoenÃ§a Vascular PerifÃ©rica</td>
<td><code>^(I7[01]\|I73[189]\|I77[12]\|I79[02]\|K55[189]\|Z95[89])</code></td>
</tr>
</tbody>
</table>
</section>
<section id="seÃ§Ã£o-3-neurolÃ³gicas" class="level4">
<h4 class="anchored" data-anchor-id="seÃ§Ã£o-3-neurolÃ³gicas">SeÃ§Ã£o 3: NeurolÃ³gicas</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 32%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Campo</th>
<th>CondiÃ§Ã£o</th>
<th>PadrÃ£o REGEX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>epilepsy</code></td>
<td>Epilepsia</td>
<td><code>^(G4[01])</code></td>
</tr>
<tr class="even">
<td><code>parkinsonism</code></td>
<td>Parkinsonismo</td>
<td><code>^(G2[0-2])</code></td>
</tr>
<tr class="odd">
<td><code>multiple_sclerosis</code></td>
<td>Esclerose MÃºltipla</td>
<td><code>^G35</code></td>
</tr>
<tr class="even">
<td><code>neuro</code></td>
<td>Outras NeurolÃ³gicas</td>
<td><code>^(G1[0-3]\|G25[45]\|G31[012]\|G3[2367]\|G93[14]\|R470\|R56)</code></td>
</tr>
<tr class="odd">
<td><code>dementia</code></td>
<td>DemÃªncia</td>
<td><code>^(F0[0-35]\|G30)</code></td>
</tr>
<tr class="even">
<td><code>plegia</code></td>
<td>Plegia/Paralisia</td>
<td><code>^(G041\|G114\|G80[12]\|G8[1-3])</code></td>
</tr>
</tbody>
</table>
</section>
<section id="seÃ§Ã£o-4-psiquiÃ¡tricas" class="level4">
<h4 class="anchored" data-anchor-id="seÃ§Ã£o-4-psiquiÃ¡tricas">SeÃ§Ã£o 4: PsiquiÃ¡tricas</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Campo</th>
<th>CondiÃ§Ã£o</th>
<th>PadrÃ£o REGEX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>psicoses</code></td>
<td>Psicoses e Transtorno Bipolar</td>
<td><code>^(F2[0-9]\|F31)</code></td>
</tr>
<tr class="even">
<td><code>depre_ansiedade</code></td>
<td>DepressÃ£o e Ansiedade</td>
<td><code>^(F3[2-49]\|F4[01])</code></td>
</tr>
</tbody>
</table>
<p><strong>Nota</strong>: <code>depre_ansiedade</code> nÃ£o entra no cÃ¡lculo de multimorbidade (decisÃ£o clÃ­nica).</p>
</section>
<section id="seÃ§Ã£o-5-pulmonares" class="level4">
<h4 class="anchored" data-anchor-id="seÃ§Ã£o-5-pulmonares">SeÃ§Ã£o 5: Pulmonares</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Campo</th>
<th>CondiÃ§Ã£o</th>
<th>PadrÃ£o REGEX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>COPD</code></td>
<td>DPOC</td>
<td><code>^(I27[89]\|J4[0-4]\|J47\|J6[0-7]\|J684\|J70[13])</code></td>
</tr>
<tr class="even">
<td><code>asthma</code></td>
<td>Asma</td>
<td><code>^(J4[56])</code></td>
</tr>
</tbody>
</table>
</section>
<section id="seÃ§Ã£o-6-neoplasias" class="level4">
<h4 class="anchored" data-anchor-id="seÃ§Ã£o-6-neoplasias">SeÃ§Ã£o 6: Neoplasias</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 32%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Campo</th>
<th>CondiÃ§Ã£o</th>
<th>PadrÃ£o REGEX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>neoplasia_mama</code></td>
<td>Neoplasia de Mama</td>
<td><code>^C50</code></td>
</tr>
<tr class="even">
<td><code>neoplasia_colo_uterino</code></td>
<td>Neoplasia de Colo Uterino</td>
<td><code>^C53</code></td>
</tr>
<tr class="odd">
<td><code>neoplasia_feminina_estrita</code></td>
<td>Outras Neoplasias Femininas</td>
<td><code>^(C5[1-28])</code></td>
</tr>
<tr class="even">
<td><code>neoplasia_masculina_estrita</code></td>
<td>Neoplasias Masculinas</td>
<td><code>^(C6[0-3])</code></td>
</tr>
<tr class="odd">
<td><code>leukemia</code></td>
<td>Leucemia</td>
<td><code>^(C9[1-5])</code></td>
</tr>
<tr class="even">
<td><code>lymphoma</code></td>
<td>Linfoma</td>
<td><code>^(C8[1-6]\|C96)</code></td>
</tr>
<tr class="odd">
<td><code>metastasis</code></td>
<td>MetÃ¡stase</td>
<td><code>^(C7[7-9]\|C80)</code></td>
</tr>
<tr class="even">
<td><code>neoplasia_ambos_os_sexos</code></td>
<td>Outras Neoplasias</td>
<td><code>^(C[0-4][0-9]\|C[567][0-9])</code> excluindo as especÃ­ficas</td>
</tr>
</tbody>
</table>
</section>
<section id="seÃ§Ã£o-7-renais-e-metabÃ³licas" class="level4">
<h4 class="anchored" data-anchor-id="seÃ§Ã£o-7-renais-e-metabÃ³licas">SeÃ§Ã£o 7: Renais e MetabÃ³licas</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 32%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Campo</th>
<th>CondiÃ§Ã£o</th>
<th>PadrÃ£o REGEX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>IRC_por_CID</code></td>
<td>DRC por CID</td>
<td><code>^(I120\|I131\|N03[2-7]\|N05[2-7]\|N1[89]\|N250\|Z49[0-2]\|Z940\|Z992)</code></td>
</tr>
<tr class="even">
<td><code>dislipidemia_por_CID</code></td>
<td>Dislipidemia por CID</td>
<td><code>^E78</code></td>
</tr>
<tr class="odd">
<td><code>obesidade</code></td>
<td>Obesidade</td>
<td><code>^E66</code></td>
</tr>
<tr class="even">
<td><code>tireoide</code></td>
<td>DoenÃ§as da Tireoide</td>
<td><code>^(E0[0-3]\|E05\|E06\|E890)</code></td>
</tr>
</tbody>
</table>
</section>
<section id="seÃ§Ã£o-8-hematolÃ³gicas" class="level4">
<h4 class="anchored" data-anchor-id="seÃ§Ã£o-8-hematolÃ³gicas">SeÃ§Ã£o 8: HematolÃ³gicas</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Campo</th>
<th>CondiÃ§Ã£o</th>
<th>PadrÃ£o REGEX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>coagulo</code></td>
<td>DistÃºrbios de CoagulaÃ§Ã£o</td>
<td><code>^(D6[5-9])</code></td>
</tr>
<tr class="even">
<td><code>anemias</code></td>
<td>Anemias</td>
<td><code>^(D5[0-3])</code></td>
</tr>
</tbody>
</table>
<p><strong>Nota</strong>: <code>anemias</code> nÃ£o entra no cÃ¡lculo de multimorbidade.</p>
</section>
<section id="seÃ§Ã£o-9-reumatolÃ³gicas" class="level4">
<h4 class="anchored" data-anchor-id="seÃ§Ã£o-9-reumatolÃ³gicas">SeÃ§Ã£o 9: ReumatolÃ³gicas</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 32%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Campo</th>
<th>CondiÃ§Ã£o</th>
<th>PadrÃ£o REGEX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>reumato</code></td>
<td>DoenÃ§as ReumatolÃ³gicas</td>
<td><code>^(L93\|L94[013]\|M0[5-68]\|M12[03]\|M3[0-5]\|M4[5-6])</code></td>
</tr>
</tbody>
</table>
</section>
<section id="seÃ§Ã£o-10-uso-de-substÃ¢ncias" class="level4">
<h4 class="anchored" data-anchor-id="seÃ§Ã£o-10-uso-de-substÃ¢ncias">SeÃ§Ã£o 10: Uso de SubstÃ¢ncias</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 32%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Campo</th>
<th>CondiÃ§Ã£o</th>
<th>PadrÃ£o REGEX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>alcool</code></td>
<td>Transtornos por Ãlcool</td>
<td><code>^(F10\|E52\|G621\|I426\|K292\|K70\|T51\|Z502\|Z714\|Z721)</code></td>
</tr>
<tr class="even">
<td><code>drogas</code></td>
<td>Transtornos por Drogas</td>
<td><code>^(F1[1-9]\|Z715\|Z722)</code></td>
</tr>
<tr class="odd">
<td><code>tabaco</code></td>
<td>Tabagismo</td>
<td><code>^(F17\|Z716)</code></td>
</tr>
</tbody>
</table>
<p><strong>Nota</strong>: <code>tabaco</code> nÃ£o entra no cÃ¡lculo de multimorbidade, mas Ã© usado no Framingham.</p>
</section>
<section id="seÃ§Ã£o-11-gastrointestinais" class="level4">
<h4 class="anchored" data-anchor-id="seÃ§Ã£o-11-gastrointestinais">SeÃ§Ã£o 11: Gastrointestinais</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 32%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Campo</th>
<th>CondiÃ§Ã£o</th>
<th>PadrÃ£o REGEX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>peptic</code></td>
<td>DoenÃ§a PÃ©ptica</td>
<td><code>^(K2[5-8])</code></td>
</tr>
<tr class="even">
<td><code>liver</code></td>
<td>DoenÃ§a HepÃ¡tica</td>
<td><code>^(B18\|I8[56]\|I982\|K70\|K71[1357]\|K72[19]\|K7[3-6]\|Z944)</code></td>
</tr>
<tr class="odd">
<td><code>diverticular_disease</code></td>
<td>DoenÃ§a Diverticular</td>
<td><code>^K57</code></td>
</tr>
<tr class="even">
<td><code>ibd</code></td>
<td>DoenÃ§a InflamatÃ³ria Intestinal</td>
<td><code>^(K5[01])</code></td>
</tr>
</tbody>
</table>
<p><strong>Nota</strong>: <code>peptic</code> nÃ£o entra no cÃ¡lculo de multimorbidade.</p>
</section>
<section id="seÃ§Ã£o-12-infecciosas" class="level4">
<h4 class="anchored" data-anchor-id="seÃ§Ã£o-12-infecciosas">SeÃ§Ã£o 12: Infecciosas</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Campo</th>
<th>CondiÃ§Ã£o</th>
<th>PadrÃ£o REGEX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>SIDA</code></td>
<td>HIV/AIDS por CID</td>
<td><code>^(B2[0-4]\|Z21\|R75\|O987\|P352)</code></td>
</tr>
</tbody>
</table>
</section>
<section id="seÃ§Ã£o-13-outras" class="level4">
<h4 class="anchored" data-anchor-id="seÃ§Ã£o-13-outras">SeÃ§Ã£o 13: Outras</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 32%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Campo</th>
<th>CondiÃ§Ã£o</th>
<th>PadrÃ£o REGEX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>desnutricao</code></td>
<td>DesnutriÃ§Ã£o</td>
<td><code>^(E4[0-36])</code></td>
</tr>
<tr class="even">
<td><code>retardo_mental</code></td>
<td>DeficiÃªncia Intelectual</td>
<td><code>^(F7[0-9])</code></td>
</tr>
<tr class="odd">
<td><code>olhos</code></td>
<td>DoenÃ§as Oculares</td>
<td><code>^(H18\|H201\|H2[56]\|H33\|H360\|H4[026]\|H46\|H540)</code></td>
</tr>
<tr class="even">
<td><code>ouvidos</code></td>
<td>DoenÃ§as Auditivas</td>
<td><code>^(H9[01])</code></td>
</tr>
<tr class="odd">
<td><code>ma_formacoes</code></td>
<td>MalformaÃ§Ãµes CongÃªnitas</td>
<td><code>^(Q0[0-7]\|Q3[5-7]\|Q6[0-2]\|Q8[01]\|Q9[0-9])</code></td>
</tr>
<tr class="even">
<td><code>pele</code></td>
<td>DoenÃ§as de Pele</td>
<td><code>^(L1[0-49]\|L20\|L4[013]\|L80\|L89\|L90\|L990\|Q85[01])</code></td>
</tr>
<tr class="odd">
<td><code>painful_condition</code></td>
<td>CondiÃ§Ãµes Dolorosas CrÃ´nicas</td>
<td><code>^(R52[12]\|M79[27]\|G89[034])</code></td>
</tr>
<tr class="even">
<td><code>prostate_disorder</code></td>
<td>DoenÃ§as da PrÃ³stata</td>
<td><code>^(N4[0-2])</code></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="uso-no-dashboard-4" class="level3">
<h3 class="anchored" data-anchor-id="uso-no-dashboard-4">Uso no Dashboard</h3>
<ul>
<li>IdentificaÃ§Ã£o de condiÃ§Ãµes crÃ´nicas</li>
<li>CÃ¡lculo de multimorbidade</li>
<li>EstratificaÃ§Ã£o por condiÃ§Ã£o especÃ­fica</li>
<li>Ãndice de Charlson</li>
</ul>
<hr>
</section>
</section>
<section id="seÃ§Ã£o-5b-critÃ©rios-expandidos-de-has" class="level2">
<h2 class="anchored" data-anchor-id="seÃ§Ã£o-5b-critÃ©rios-expandidos-de-has">SeÃ§Ã£o 5B: CritÃ©rios Expandidos de HAS</h2>
<section id="objetivo-clÃ­nico-4" class="level3">
<h3 class="anchored" data-anchor-id="objetivo-clÃ­nico-4">Objetivo ClÃ­nico</h3>
<p>Expandir o diagnÃ³stico de HAS alÃ©m do CID, incluindo: 1. Medidas de PA crÃ­ticas (â‰¥180/110) 2. Medidas de PA alteradas repetidas (â‰¥140/90 em 2 ou mais ocasiÃµes) 3. Uso de medicamentos anti-hipertensivos</p>
</section>
<section id="ctes-envolvidas-3" class="level3">
<h3 class="anchored" data-anchor-id="ctes-envolvidas-3">CTEs Envolvidas</h3>
<section id="todas_medidas_pa" class="level4">
<h4 class="anchored" data-anchor-id="todas_medidas_pa"><code>todas_medidas_pa</code></h4>
<p><strong>Fonte</strong>: <code>episodio_assistencial</code> + <code>PA_A1C_glic_cpf_fix</code> (correÃ§Ãµes)</p>
<p><strong>Objetivo</strong>: Consolidar todas as medidas de PA com valores corrigidos.</p>
<p><strong>Campos</strong>: - <code>cpf</code> - <code>pressao_sistolica</code>: PAS corrigida - <code>pressao_diastolica</code>: PAD corrigida - <code>data_medicao</code></p>
</section>
<section id="criterios_has_medidas" class="level4">
<h4 class="anchored" data-anchor-id="criterios_has_medidas"><code>criterios_has_medidas</code></h4>
<p><strong>Objetivo</strong>: Identificar critÃ©rios de HAS baseados em medidas.</p>
<p><strong>Campos produzidos</strong>: | Campo | DescriÃ§Ã£o | CritÃ©rio | |â€”â€”-|â€”â€”â€”â€“|â€”â€”â€”-| | <code>has_por_medida_critica</code> | Data da primeira medida crÃ­tica | PAS â‰¥ 180 OU PAD â‰¥ 110 | | <code>n_medidas_alteradas</code> | Contagem de medidas alteradas | PAS 140-179 OU PAD 90-109 | | <code>has_por_medidas_repetidas</code> | Data da 2Âª medida alterada | Se n_medidas_alteradas â‰¥ 2 |</p>
<p><strong>LÃ³gica para 2Âª medida</strong>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>ARRAY_AGG(<span class="op">..</span>. <span class="kw">ORDER</span> <span class="kw">BY</span> data_medicao)[SAFE_OFFSET(<span class="dv">1</span>)]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="criterios_has_medicamentos" class="level4">
<h4 class="anchored" data-anchor-id="criterios_has_medicamentos"><code>criterios_has_medicamentos</code></h4>
<p><strong>Fonte</strong>: <code>episodio_assistencial</code> (UNNEST de <code>prescricoes</code>)</p>
<p><strong>Objetivo</strong>: Identificar uso de anti-hipertensivos.</p>
<p><strong>PadrÃ£o REGEX de anti-hipertensivos</strong>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>REGEXP_CONTAINS(<span class="fu">UPPER</span>(presc.nome), r<span class="st">'(HIDROCLOROTIAZIDA|CLORTALIDONA|INDAPAMIDA|</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="st">CAPTOPRIL|ENALAPRIL|LISINOPRIL|RAMIPRIL|PERINDOPRIL|BENAZEPRIL|</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="st">LOSARTANA|VALSARTANA|CANDESARTANA|IRBESARTANA|OLMESARTANA|TELMISARTANA|</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="st">ANLODIPINO|NIFEDIPINO|FELODIPINO|VERAPAMIL|DILTIAZEM|</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="st">ATENOLOL|PROPRANOLOL|METOPROLOL|CARVEDILOL|BISOPROLOL|</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="st">METILDOPA|CLONIDINA|HIDRALAZINA|ALISQUIRENO)'</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Campo produzido</strong>: - <code>has_por_medicamento</code>: Data da primeira prescriÃ§Ã£o de anti-hipertensivo</p>
</section>
</section>
<section id="uso-no-dashboard-5" class="level3">
<h3 class="anchored" data-anchor-id="uso-no-dashboard-5">Uso no Dashboard</h3>
<ul>
<li>DiagnÃ³stico ampliado de HAS</li>
<li>IdentificaÃ§Ã£o de HAS sem CID registrado</li>
<li>PriorizaÃ§Ã£o de pacientes para codificaÃ§Ã£o</li>
</ul>
<hr>
<p>## SeÃ§Ã£o 5C: CritÃ©rios Expandidos de DM</p>
<p>### Objetivo ClÃ­nico Expandir o diagnÃ³stico de DM alÃ©m do CID, incluindo: 1. Exames laboratoriais (glicemia â‰¥126 ou HbA1c â‰¥6.5) 2. ProgressÃ£o de prÃ©-diabetes 3. Uso de hipoglicemiantes</p>
</section>
<section id="ctes-envolvidas-4" class="level3">
<h3 class="anchored" data-anchor-id="ctes-envolvidas-4">CTEs Envolvidas</h3>
<section id="todas_medidas_glicemia" class="level4">
<h4 class="anchored" data-anchor-id="todas_medidas_glicemia"><code>todas_medidas_glicemia</code></h4>
<p><strong>Fonte</strong>: <code>episodio_assistencial</code> + <code>PA_A1C_glic_cpf_fix</code> (correÃ§Ãµes)</p>
<p><strong>Campos</strong>: - <code>cpf</code> - <code>glicemia</code>: Valor corrigido - <code>hba1c</code>: Valor corrigido - <code>data_coleta</code> - <code>id_hci</code></p>
</section>
<section id="criterios_dm_medidas" class="level4">
<h4 class="anchored" data-anchor-id="criterios_dm_medidas"><code>criterios_dm_medidas</code></h4>
<p><strong>Campos produzidos</strong>: | Campo | DescriÃ§Ã£o | CritÃ©rio | |â€”â€”-|â€”â€”â€”â€“|â€”â€”â€”-| | <code>dm_por_exames</code> | Data do primeiro exame diagnÃ³stico | Glicemia â‰¥ 126 OU HbA1c â‰¥ 6.5 | | <code>n_medidas_pre_dm</code> | Contagem de medidas prÃ©-DM | Glicemia 100-125 OU HbA1c 5.7-6.4 | | <code>dm_por_progressao_pre_dm</code> | Data da 2Âª medida de prÃ©-DM | Se n â‰¥ 2, confirma DM | | <code>pre_dm_por_exames</code> | Data da primeira medida prÃ©-DM | Para pacientes sem DM confirmado |</p>
<p>#### <code>criterios_dm_medicamentos</code> <strong>PadrÃ£o REGEX de hipoglicemiantes FORTES</strong> (confirmam DM): <code>sql REGEXP_CONTAINS(UPPER(presc.nome), r'(GLICLAZIDA|GLIBENCLAMIDA|GLIMEPIRID|GLIPIZIDA| REPAGLINIDA|NATEGLINIDA|PIOGLITAZONA|ROSIGLITAZONA| SITAGLIPTINA|VILDAGLIPTINA|SAXAGLIPTINA|LINAGLIPTINA| EXENATIDA|DULAGLUTIDA|LIXISENATIDA|TIRZEPATIDA| INSULINA|NPH|LISPRO|ASPARTE|GLULISINA|GLARGINA|DETEMIR|DEGLUDECA)')</code></p>
<p><strong>Campos produzidos</strong>: - <code>dm_por_medicamento_forte</code>: Data da primeira prescriÃ§Ã£o de hipoglicemiante forte - <code>tem_apenas_metformina</code>: Flag booleano (metformina isolada NÃƒO confirma DM)</p>
<p><strong>Regra importante</strong>: Metformina isolada nÃ£o confirma DM porque Ã© usada para sÃ­ndrome metabÃ³lica e SOP.</p>
</section>
</section>
<section id="uso-no-dashboard-6" class="level3">
<h3 class="anchored" data-anchor-id="uso-no-dashboard-6">Uso no Dashboard</h3>
<ul>
<li>DiagnÃ³stico ampliado de DM</li>
<li>IdentificaÃ§Ã£o de prÃ©-diabÃ©ticos</li>
<li>IdentificaÃ§Ã£o de DM sem CID registrado</li>
</ul>
<hr>
<p>## SeÃ§Ã£o 5D: ConsolidaÃ§Ã£o HAS + DM</p>
<p>### CTE: <code>has_dm_consolidado</code></p>
<p><strong>Objetivo</strong>: Unificar todos os critÃ©rios de HAS e DM em uma Ãºnica CTE, determinando a <strong>primeira data de diagnÃ³stico</strong> por qualquer critÃ©rio.</p>
<p><strong>LÃ³gica de consolidaÃ§Ã£o HAS</strong>: <code>sql HAS = MIN(has_por_cid, has_por_medida_critica, has_por_medidas_repetidas, has_por_medicamento)</code> Onde MIN ignora valores NULL.</p>
<p><strong>LÃ³gica de consolidaÃ§Ã£o DM</strong>: <code>sql DM = MIN(dm_por_cid, dm_por_exames, dm_por_progressao_pre_dm, dm_por_medicamento_forte)</code> <strong>ExceÃ§Ã£o</strong>: Se <code>tem_apenas_metformina = TRUE</code> e nenhum outro critÃ©rio, DM = NULL.</p>
<p><strong>Campos produzidos para HAS</strong>: | Campo | DescriÃ§Ã£o | |â€”â€”-|â€”â€”â€”â€“| | <code>HAS</code> | Data do diagnÃ³stico consolidado | | <code>has_por_cid</code> | Data do CID | | <code>has_por_medida_critica</code> | Data da PA crÃ­tica | | <code>has_por_medidas_repetidas</code> | Data da 2Âª PA alterada | | <code>has_por_medicamento</code> | Data da prescriÃ§Ã£o | | <code>HAS_sem_CID</code> | TRUE se diagnosticado sem CID |</p>
<p><strong>Campos produzidos para DM</strong>: | Campo | DescriÃ§Ã£o | |â€”â€”-|â€”â€”â€”â€“| | <code>DM</code> | Data do diagnÃ³stico consolidado | | <code>dm_por_cid</code> | Data do CID | | <code>dm_por_exames</code> | Data do exame diagnÃ³stico | | <code>dm_por_progressao_pre_dm</code> | Data da progressÃ£o | | <code>dm_por_medicamento_forte</code> | Data da prescriÃ§Ã£o | | <code>DM_sem_CID</code> | TRUE se diagnosticado sem CID | | <code>pre_DM</code> | Data do prÃ©-DM (se DM = NULL) |</p>
<p>### Uso no Dashboard - Detalhamento da origem do diagnÃ³stico - IdentificaÃ§Ã£o de subnotificaÃ§Ã£o de CID - Data exata para cÃ¡lculo de tempo de doenÃ§a</p>
<hr>
<p>## SeÃ§Ã£o 5E: ProgressÃ£o GlicÃªmica</p>
<p>### Objetivo ClÃ­nico Avaliar a <strong>tendÃªncia temporal</strong> do controle glicÃªmico em diabÃ©ticos, comparando HbA1c atual com anterior.</p>
</section>
<section id="ctes-envolvidas-5" class="level3">
<h3 class="anchored" data-anchor-id="ctes-envolvidas-5">CTEs Envolvidas</h3>
<section id="hba1c_progressao" class="level4">
<h4 class="anchored" data-anchor-id="hba1c_progressao"><code>hba1c_progressao</code></h4>
<p><strong>Objetivo</strong>: Para cada paciente, obter a HbA1c mais recente e a anterior.</p>
<p><strong>Usa</strong>: <code>LAG()</code> para capturar valor anterior.</p>
<p><strong>Campos</strong>: - <code>hba1c_atual</code>, <code>data_hba1c_atual</code> - <code>hba1c_anterior</code>, <code>data_hba1c_anterior</code></p>
</section>
<section id="progressao_glicemica" class="level4">
<h4 class="anchored" data-anchor-id="progressao_glicemica"><code>progressao_glicemica</code></h4>
<p><strong>Objetivo</strong>: Classificar status e tendÃªncia do controle glicÃªmico.</p>
<p><strong>Meta de HbA1c por idade</strong>: | Idade | Meta | |â€”â€”-|â€”â€”| | &lt; 60 anos | 7.0% | | â‰¥ 60 anos | 7.5% |</p>
<p><strong>Status de controle</strong> (<code>status_controle_glicemico</code>):</p>
<p>Para pacientes <strong>SEM DM</strong>: - <code>rastreio - normal</code>: HbA1c &lt; 5.7 - <code>rastreio - pre_diabetes</code>: HbA1c 5.7-6.4 - <code>rastreio - provÃ¡vel_diabetes</code>: HbA1c â‰¥ 6.5</p>
<p>Para pacientes <strong>COM DM</strong>: - <code>sem_dados</code>: Sem HbA1c - <code>abaixo_da_meta</code>: Idade â‰¥ 70 e HbA1c &lt; 6.0 (risco de hipoglicemia) - <code>dentro_da_meta</code>: HbA1c â‰¤ meta - <code>fora_da_meta</code>: HbA1c &gt; meta</p>
<p><strong>TendÃªncia</strong> (<code>tendencia_hba1c</code>):</p>
<p>Para pacientes <strong>SEM DM</strong>: Apenas classificaÃ§Ã£o de rastreio.</p>
<p>Para pacientes <strong>COM DM</strong>: - Se <strong>dentro/abaixo da meta</strong>: <code>estavel</code> - Se <strong>fora da meta</strong>: - <code>melhorando</code>: Queda &gt; 0.4% - <code>piorando</code>: Aumento &gt; 0.4% - <code>estavel</code>: VariaÃ§Ã£o â‰¤ 0.4% - <code>sem_referencia_previa</code>: Sem HbA1c anterior</p>
</section>
<section id="historico_controle_glicemia" class="level4">
<h4 class="anchored" data-anchor-id="historico_controle_glicemia"><code>historico_controle_glicemia</code></h4>
<p><strong>Objetivo</strong>: Calcular dias em cada status de controle, interpolando entre mediÃ§Ãµes.</p>
<p><strong>LÃ³gica</strong>: Para cada mediÃ§Ã£o de HbA1c, calcula os dias atÃ© a prÃ³xima mediÃ§Ã£o (ou atÃ© hoje se for a Ãºltima). Classifica esse perÃ­odo como â€œcontroladoâ€ ou â€œdescontroladoâ€.</p>
</section>
<section id="resumo_controle_glicemia" class="level4">
<h4 class="anchored" data-anchor-id="resumo_controle_glicemia"><code>resumo_controle_glicemia</code></h4>
<p><strong>Campos produzidos</strong>: | Campo | DescriÃ§Ã£o | |â€”â€”-|â€”â€”â€”â€“| | <code>dias_dm_controlado</code> | Total de dias controlado desde diagnÃ³stico | | <code>dias_dm_descontrolado</code> | Total de dias descontrolado | | <code>dias_desde_ultima_hba1c</code> | Dias desde Ãºltima mediÃ§Ã£o | | <code>pct_dias_dm_controlado</code> | Percentual de dias controlado | | <code>dias_dm_controlado_365d</code> | Dias controlado nos Ãºltimos 365 dias | | <code>dias_dm_descontrolado_365d</code> | Dias descontrolado nos Ãºltimos 365 dias | | <code>pct_dias_dm_controlado_365d</code> | Percentual nos Ãºltimos 365 dias |</p>
<p>#### <code>ultimas_medidas_glicemia</code> <strong>Objetivo</strong>: Gerar strings formatadas das Ãºltimas 3 medidas.</p>
<p><strong>Campos</strong>: - <code>ultimas_tres_glicemias</code>: Ex: â€œ156 mg/dL; 142 mg/dL; 138 mg/dLâ€ - <code>ultimas_tres_A1C</code>: Ex: â€œ7.2%; 7.8%; 8.1%â€</p>
</section>
</section>
<section id="uso-no-dashboard-7" class="level3">
<h3 class="anchored" data-anchor-id="uso-no-dashboard-7">Uso no Dashboard</h3>
<ul>
<li>CartÃ£o do paciente com histÃ³rico glicÃªmico</li>
<li>IdentificaÃ§Ã£o de pacientes piorando</li>
<li>MÃ©tricas de qualidade de controle</li>
</ul>
<hr>
<p>## SeÃ§Ã£o 5F: ProgressÃ£o PressÃ³rica</p>
<p>### Objetivo ClÃ­nico Avaliar a <strong>tendÃªncia temporal</strong> do controle pressÃ³rico em hipertensos, anÃ¡logo Ã  progressÃ£o glicÃªmica.</p>
</section>
<section id="ctes-envolvidas-6" class="level3">
<h3 class="anchored" data-anchor-id="ctes-envolvidas-6">CTEs Envolvidas</h3>
<section id="todas_medidas_pa_completas" class="level4">
<h4 class="anchored" data-anchor-id="todas_medidas_pa_completas"><code>todas_medidas_pa_completas</code></h4>
<p><strong>Objetivo</strong>: Consolidar todas as medidas de PA com correÃ§Ãµes.</p>
</section>
<section id="pa_progressao" class="level4">
<h4 class="anchored" data-anchor-id="pa_progressao"><code>pa_progressao</code></h4>
<p><strong>Objetivo</strong>: Obter PA mais recente e anterior por paciente.</p>
</section>
<section id="progressao_pressao" class="level4">
<h4 class="anchored" data-anchor-id="progressao_pressao"><code>progressao_pressao</code></h4>
<p><strong>Meta de PA por idade</strong>: | Idade | Meta PAS | Meta PAD | |â€”â€”-|â€”â€”â€”-|â€”â€”â€”-| | &lt; 80 anos | 140 | 90 | | â‰¥ 80 anos | 150 | 90 |</p>
<p><strong>Status de controle</strong> (<code>status_controle_pressorio</code>):</p>
<p>Para pacientes <strong>SEM HAS</strong>: - <code>rastreio - normal</code>: PAS &lt; 120 e PAD &lt; 80 - <code>rastreio - pre_hipertensao</code>: PAS &lt; 130 e PAD &lt; 85 - <code>rastreio - limÃ­trofe</code>: PAS &lt; 140 ou PAD &lt; 90 - <code>rastreio - provÃ¡vel_HAS</code>: PAS â‰¥ 140 ou PAD â‰¥ 90</p>
<p>Para pacientes <strong>COM HAS</strong>: - <code>controlado</code>: Dentro da meta - <code>descontrolado</code>: Fora da meta</p>
<p><strong>TendÃªncia</strong> (<code>tendencia_pa</code>): - Se <strong>controlado</strong>: <code>estavel</code> - Se <strong>descontrolado</strong>: - <code>melhorando</code>: Queda de PAS &gt; 5 mmHg - <code>piorando</code>: Aumento de PAS &gt; 5 mmHg - <code>estavel</code>: VariaÃ§Ã£o â‰¤ 5 mmHg</p>
</section>
<section id="historico_controle_pa-e-resumo_controle_pa" class="level4">
<h4 class="anchored" data-anchor-id="historico_controle_pa-e-resumo_controle_pa"><code>historico_controle_pa</code> e <code>resumo_controle_pa</code></h4>
<p>AnÃ¡logos aos de glicemia, calculando dias controlado/descontrolado.</p>
</section>
<section id="ultimas_medidas_pa" class="level4">
<h4 class="anchored" data-anchor-id="ultimas_medidas_pa"><code>ultimas_medidas_pa</code></h4>
<p><strong>Campo</strong>: - <code>ultimas_tres_PA</code>: Ex: â€œ138/88 mmHg; 142/92 mmHg; 156/98 mmHgâ€</p>
<hr>
<p>## SeÃ§Ã£o 6: Consultas e Longitudinalidade</p>
<p>### Objetivo ClÃ­nico Avaliar o <strong>padrÃ£o de utilizaÃ§Ã£o</strong> dos serviÃ§os de saÃºde, identificando: - Volume de consultas - Regularidade de acompanhamento - Perfil de cuidado (mÃ©dico vs enfermagem) - Longitudinalidade (consultas na unidade de cadastro vs fora)</p>
</section>
</section>
<section id="ctes-envolvidas-7" class="level3">
<h3 class="anchored" data-anchor-id="ctes-envolvidas-7">CTEs Envolvidas</h3>
<section id="contagem_consultas_detalhada" class="level4">
<h4 class="anchored" data-anchor-id="contagem_consultas_detalhada"><code>contagem_consultas_detalhada</code></h4>
<p><strong>Fonte</strong>: <code>episodio_assistencial</code></p>
<p><strong>Campos produzidos - Totais histÃ³ricos</strong>: | Campo | DescriÃ§Ã£o | |â€”â€”-|â€”â€”â€”â€“| | <code>consultas_total_historico</code> | Total de consultas (todo perÃ­odo) | | <code>consultas_medicas_historico</code> | Com mÃ©dico | | <code>consultas_enfermagem_historico</code> | Com enfermeiro |</p>
<p><strong>Campos produzidos - Ãšltimos 365 dias</strong>: | Campo | DescriÃ§Ã£o | |â€”â€”-|â€”â€”â€”â€“| | <code>consultas_365d</code> | Total nos Ãºltimos 365 dias | | <code>consultas_medicas_365d</code> | Com mÃ©dico | | <code>consultas_enfermagem_365d</code> | Com enfermeiro | | <code>consultas_medicas_na_unidade_365d</code> | MÃ©dicas na unidade de cadastro | | <code>consultas_medicas_fora_365d</code> | MÃ©dicas fora da unidade | | <code>consultas_enfermagem_na_unidade_365d</code> | Enfermagem na unidade | | <code>consultas_enfermagem_fora_365d</code> | Enfermagem fora |</p>
<p><strong>Campos de datas</strong>: - <code>data_primeira_consulta</code> - <code>data_ultima_consulta</code> - <code>data_ultima_medica</code> - <code>data_ultima_enfermagem</code></p>
<p><strong>Regularidade</strong>: - <code>meses_com_consulta_12m</code>: Contagem de meses distintos com consulta</p>
<p><strong>CritÃ©rio de especialidade</strong>: <code>sql profissional_saude_responsavel.especialidade LIKE '%MÃ©dico%' profissional_saude_responsavel.especialidade LIKE '%Enfermeiro%'</code></p>
</section>
<section id="intervalos_consultas" class="level4">
<h4 class="anchored" data-anchor-id="intervalos_consultas"><code>intervalos_consultas</code></h4>
<p><strong>Objetivo</strong>: Calcular intervalos entre consultas consecutivas.</p>
<p><strong>Campos</strong>: | Campo | DescriÃ§Ã£o | |â€”â€”-|â€”â€”â€”â€“| | <code>intervalo_mediano_dias</code> | Mediana dos intervalos | | <code>intervalo_medio_dias</code> | MÃ©dia dos intervalos | | <code>ultimo_intervalo_dias</code> | Intervalo entre as 2 Ãºltimas | | <code>n_intervalos</code> | NÃºmero de intervalos calculados |</p>
<p>#### <code>contagem_consultas</code> <strong>Objetivo</strong>: Consolidar e calcular indicadores derivados.</p>
<p><strong>Indicadores temporais</strong>: - <code>dias_desde_ultima_medica</code> - <code>dias_desde_ultima_enfermagem</code> - <code>dias_desde_ultima_consulta</code> - <code>dias_em_acompanhamento</code></p>
<p><strong>Percentuais</strong>: - <code>pct_consultas_medico_365d</code> - <code>pct_consultas_enfermeiro_365d</code> - <code>pct_consultas_medicas_fora_365d</code> - <code>pct_consultas_medicas_na_unidade_365d</code></p>
<p><strong>Categorias</strong>:</p>
<p><code>perfil_cuidado_365d</code>: - <code>sem_consultas</code>: Nenhuma consulta em 365d - <code>medico_centrado</code>: â‰¥75% consultas com mÃ©dico - <code>enfermagem_centrado</code>: â‰¥75% consultas com enfermeiro - <code>compartilhado</code>: 25-75% com mÃ©dico - <code>indefinido</code>: Outros casos</p>
<p><code>regularidade_acompanhamento</code>: - <code>sem_acompanhamento</code>: 0 meses - <code>esporadico</code>: 1-2 meses - <code>irregular</code>: 3-5 meses - <code>regular</code>: â‰¥6 meses</p>
<p><code>baixa_longitudinalidade</code>: - <code>TRUE</code>: &gt;50% das consultas mÃ©dicas fora da unidade de cadastro</p>
</section>
</section>
<section id="uso-no-dashboard-8" class="level3">
<h3 class="anchored" data-anchor-id="uso-no-dashboard-8">Uso no Dashboard</h3>
<ul>
<li>IdentificaÃ§Ã£o de pacientes sem acompanhamento</li>
<li>AvaliaÃ§Ã£o de longitudinalidade</li>
<li>ComparaÃ§Ã£o com benchmarks</li>
</ul>
<hr>
<p>## SeÃ§Ã£o 7: ConsolidaÃ§Ã£o com eGFR</p>
<p>### CTE: <code>dados_consolidados</code></p>
<p><strong>Objetivo</strong>: JOIN de todas as CTEs anteriores + cÃ¡lculo de eGFR.</p>
</section>
<section id="cÃ¡lculo-do-egfr-ckd-epi-2021" class="level3">
<h3 class="anchored" data-anchor-id="cÃ¡lculo-do-egfr-ckd-epi-2021">CÃ¡lculo do eGFR (CKD-EPI 2021)</h3>
<p><strong>FÃ³rmula</strong>: <code>sql 142 *   POWER(     LEAST(creatinina / CASE WHEN genero = 'feminino' THEN 0.7 ELSE 0.9 END, 1),     CASE WHEN genero = 'feminino' THEN -0.241 ELSE -0.302 END   ) *   POWER(     GREATEST(creatinina / CASE WHEN genero = 'feminino' THEN 0.7 ELSE 0.9 END, 1),     -1.200   ) *   POWER(0.9938, idade) *   CASE WHEN genero = 'feminino' THEN 1.012 ELSE 1.0 END</code></p>
<p><strong>Nota</strong>: Esta Ã© a fÃ³rmula CKD-EPI 2021 <strong>sem ajuste racial</strong> (recomendaÃ§Ã£o atual).</p>
</section>
<section id="estadiamento-ckd-ckd_stage" class="level3">
<h3 class="anchored" data-anchor-id="estadiamento-ckd-ckd_stage">Estadiamento CKD (<code>ckd_stage</code>)</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>eGFR (ml/min/1.73mÂ²)</th>
<th>EstÃ¡gio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>â‰¥ 90</td>
<td>G1 - Normal ou alta</td>
</tr>
<tr class="even">
<td>60-89</td>
<td>G2 - Levemente diminuÃ­da</td>
</tr>
<tr class="odd">
<td>30-59</td>
<td>G3 - Moderadamente diminuÃ­da</td>
</tr>
<tr class="even">
<td>15-29</td>
<td>G4 - Severamente diminuÃ­da</td>
</tr>
<tr class="odd">
<td>&lt; 15</td>
<td>G5 - FalÃªncia renal</td>
</tr>
<tr class="even">
<td>NULL</td>
<td>NÃ£o avaliado</td>
</tr>
</tbody>
</table>
<hr>
<p>## SeÃ§Ã£o 7A: Morbidades Consolidadas</p>
<p>### Objetivo Consolidar morbidades que tÃªm <strong>mÃºltiplas fontes de diagnÃ³stico</strong>.</p>
</section>
<section id="ctes-envolvidas-8" class="level3">
<h3 class="anchored" data-anchor-id="ctes-envolvidas-8">CTEs Envolvidas</h3>
<section id="dados_com_irc" class="level4">
<h4 class="anchored" data-anchor-id="dados_com_irc"><code>dados_com_irc</code></h4>
<p><strong>Objetivo</strong>: Unificar IRC (CID ou eGFR).</p>
<p><strong>Regra</strong>: <code>sql IRC = IRC_por_CID OU (eGFR indica G3/G4/G5 E IRC_por_CID Ã© NULL) â†’ usar data_creatinina</code></p>
</section>
<section id="dados_com_hiv" class="level4">
<h4 class="anchored" data-anchor-id="dados_com_hiv"><code>dados_com_hiv</code></h4>
<p><strong>Objetivo</strong>: Unificar HIV (CID ou base externa).</p>
<p><strong>Regra</strong>: <code>sql HIV = MENOR(SIDA, data_diagnostico_hiv)</code></p>
</section>
<section id="dados_com_dislipidemia" class="level4">
<h4 class="anchored" data-anchor-id="dados_com_dislipidemia"><code>dados_com_dislipidemia</code></h4>
<p><strong>Objetivo</strong>: Classificar perfil lipÃ­dico e unificar dislipidemia.</p>
<p><strong>ClassificaÃ§Ãµes ATP III</strong>:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Exame</th>
<th>ClassificaÃ§Ã£o</th>
<th>Valor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Colesterol Total</td>
<td>DesejÃ¡vel</td>
<td>&lt; 200</td>
</tr>
<tr class="even">
<td></td>
<td>LimÃ­trofe alto</td>
<td>200-239</td>
</tr>
<tr class="odd">
<td></td>
<td>Alto</td>
<td>â‰¥ 240</td>
</tr>
<tr class="even">
<td>LDL</td>
<td>Ã“timo</td>
<td>&lt; 100</td>
</tr>
<tr class="odd">
<td></td>
<td>Acima do Ã³timo</td>
<td>100-129</td>
</tr>
<tr class="even">
<td></td>
<td>LimÃ­trofe alto</td>
<td>130-159</td>
</tr>
<tr class="odd">
<td></td>
<td>Alto</td>
<td>160-189</td>
</tr>
<tr class="even">
<td></td>
<td>Muito alto</td>
<td>â‰¥ 190</td>
</tr>
<tr class="odd">
<td>HDL</td>
<td>Baixo</td>
<td>&lt; 40 (M) / &lt; 50 (F)</td>
</tr>
<tr class="even">
<td></td>
<td>Normal</td>
<td>40-59 (M) / 50-59 (F)</td>
</tr>
<tr class="odd">
<td></td>
<td>DesejÃ¡vel (protetor)</td>
<td>â‰¥ 60</td>
</tr>
<tr class="even">
<td>TriglicerÃ­deos</td>
<td>Normal</td>
<td>&lt; 150</td>
</tr>
<tr class="odd">
<td></td>
<td>LimÃ­trofe alto</td>
<td>150-199</td>
</tr>
<tr class="even">
<td></td>
<td>Alto</td>
<td>200-499</td>
</tr>
<tr class="odd">
<td></td>
<td>Muito alto</td>
<td>â‰¥ 500</td>
</tr>
</tbody>
</table>
<p><strong>CritÃ©rios de dislipidemia laboratorial</strong>: - <code>dislipidemia_por_CT</code>: CT â‰¥ 200 - <code>dislipidemia_por_LDL</code>: LDL â‰¥ 130 - <code>dislipidemia_por_HDL_baixo</code>: HDL &lt; 40 (M) ou &lt; 50 (F) - <code>dislipidemia_por_TG</code>: TG â‰¥ 150</p>
<p><strong>Dislipidemia unificada</strong>: <code>sql dislipidemia = MENOR(dislipidemia_por_CID, data do primeiro exame alterado)</code></p>
<hr>
<p>## SeÃ§Ã£o 7B: Multimorbidade</p>
<p>### CTE: <code>morbidades_array</code></p>
<p><strong>Objetivo</strong>: Contar morbidades e identificar data da multimorbidade.</p>
<p><strong>Morbidades incluÃ­das no cÃ¡lculo</strong> (33 condiÃ§Ãµes):</p>
<ol type="1">
<li>HAS, DM</li>
<li>CI, ICC, stroke, arritmia, valvular, circ_pulm, vascular_periferica</li>
<li>epilepsy, parkinsonism, multiple_sclerosis, neuro, dementia, plegia</li>
<li>psicoses (depre_ansiedade EXCLUÃDA)</li>
<li>COPD, asthma</li>
<li>neoplasia_mama, neoplasia_colo_uterino, neoplasia_feminina_estrita, neoplasia_masculina_estrita, leukemia, lymphoma, metastasis, neoplasia_ambos_os_sexos</li>
<li>IRC, dislipidemia, obesidade, tireoide</li>
<li>coagulo (anemias EXCLUÃDA)</li>
<li>reumato</li>
<li>alcool, drogas (tabaco EXCLUÃDO)</li>
<li>liver, diverticular_disease, ibd (peptic EXCLUÃDA)</li>
<li>HIV</li>
</ol>
<p><strong>Campos produzidos</strong>: | Campo | DescriÃ§Ã£o | |â€”â€”-|â€”â€”â€”â€“| | <code>total_morbidades</code> | Contagem de morbidades distintas | | <code>multimorbidade</code> | Data da 2Âª morbidade (quando se torna multimÃ³rbido) | | <code>eh_multimorbido</code> | TRUE se total_morbidades â‰¥ 2 |</p>
<p><strong>DeduplicaÃ§Ã£o</strong>: <code>COUNT(DISTINCT data)</code> e <code>ARRAY_AGG(DISTINCT data)</code> para evitar contagem dupla de morbidades diagnosticadas na mesma data.</p>
<hr>
<p>## SeÃ§Ã£o 8: PrescriÃ§Ãµes de Medicamentos</p>
<p>### CTE: <code>ultimas_prescricoes_medicamentos</code></p>
<p><strong>Objetivo</strong>: Identificar a data da Ãºltima prescriÃ§Ã£o de cada classe terapÃªutica relevante.</p>
</section>
</section>
<section id="classes-terapÃªuticas-e-padrÃµes-regex" class="level3">
<h3 class="anchored" data-anchor-id="classes-terapÃªuticas-e-padrÃµes-regex">Classes TerapÃªuticas e PadrÃµes REGEX</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 24%">
<col style="width: 27%">
<col style="width: 48%">
</colgroup>
<thead>
<tr class="header">
<th>Campo</th>
<th>Classe</th>
<th>PadrÃ£o REGEX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>data_ultima_AAS</code></td>
<td>Antiagregante</td>
<td><code>ASPIRINA\|AAS\|ACIDO ACETILSALICILICO\|ÃCIDO ACETILSALICÃLICO\|SOMALGIN\|ASPIRINA PREVENT\|ECASIL</code></td>
</tr>
<tr class="even">
<td><code>data_ultima_anticoag</code></td>
<td>Anticoagulantes</td>
<td><code>VARFARINA\|WARFARIN\|MAREVAN\|COUMADIN\|RIVAROXABAN\|XARELTO\|APIXABAN\|ELIQUIS\|DABIGATRAN\|PRADAXA\|EDOXABAN\|LIXIANA</code></td>
</tr>
<tr class="odd">
<td><code>data_ultima_estatina_alta</code></td>
<td>Estatina alta intensidade</td>
<td><code>ATORVASTATINA.*[4-8]0\|ROSUVASTATINA.*[2-4]0</code></td>
</tr>
<tr class="even">
<td><code>data_ultima_estatina_qualquer</code></td>
<td>Qualquer estatina</td>
<td><code>ATORVASTATINA\|ROSUVASTATINA\|SINVASTATINA\|PRAVASTATINA\|LOVASTATINA\|FLUVASTATINA\|PITAVASTATINA</code></td>
</tr>
<tr class="odd">
<td><code>data_ultima_SGLT2</code></td>
<td>Inibidores SGLT-2</td>
<td><code>DAPAGLIFLOZINA\|FORXIGA\|EMPAGLIFLOZINA\|JARDIANCE\|CANAGLIFLOZINA\|INVOKANA\|SOTAGLIFLOZINA</code></td>
</tr>
<tr class="even">
<td><code>data_ultima_BB</code></td>
<td>Betabloqueadores</td>
<td><code>METOPROLOL.*SUCCINATO\|CARVEDILOL\|BISOPROLOL\|COREG\|CONCOR\|SELOZOK.*ZOK</code></td>
</tr>
<tr class="odd">
<td><code>data_ultima_IECA</code></td>
<td>IECA</td>
<td><code>CAPTOPRIL\|ENALAPRIL\|LISINOPRIL\|RAMIPRIL\|PERINDOPRIL\|BENAZEPRIL\|FOSINOPRIL\|QUINAPRIL\|TRANDOLAPRIL</code></td>
</tr>
<tr class="even">
<td><code>data_ultima_BRA</code></td>
<td>BRA</td>
<td><code>LOSARTANA\|VALSARTANA\|CANDESARTANA\|IRBESARTANA\|OLMESARTANA\|TELMISARTANA\|AZILSARTANA\|EPROSARTANA</code></td>
</tr>
<tr class="odd">
<td><code>data_ultima_INRA</code></td>
<td>INRA (Sacubitril)</td>
<td><code>SACUBITRIL\|ENTRESTO</code></td>
</tr>
<tr class="even">
<td><code>data_ultima_diuretico_alca</code></td>
<td>DiurÃ©tico de alÃ§a</td>
<td><code>FUROSEMIDA\|BUMETANIDA\|TORASEMIDA\|LASIX</code></td>
</tr>
<tr class="odd">
<td><code>data_ultima_ARM</code></td>
<td>Antagonista Mineralocorticoide</td>
<td><code>ESPIRONOLACTONA\|ALDACTONE\|EPLERENONA\|INSPRA</code></td>
</tr>
<tr class="even">
<td><code>data_ultima_BCC_nao_DHP</code></td>
<td>BCC nÃ£o-dihidropiridÃ­nico</td>
<td><code>VERAPAMIL\|DILTIAZEM\|CARDIZEM</code></td>
</tr>
<tr class="odd">
<td><code>data_ultima_AINE</code></td>
<td>Anti-inflamatÃ³rios</td>
<td><code>IBUPROFENO\|DICLOFENACO\|NAPROXENO\|CETOPROFENO\|PIROXICAM\|MELOXICAM\|NIMESULIDA\|INDOMETACINA\|ACECLOFENACO</code></td>
</tr>
<tr class="even">
<td><code>data_ultima_hidralazina</code></td>
<td>Hidralazina</td>
<td><code>HIDRALAZINA</code></td>
</tr>
<tr class="odd">
<td><code>data_ultima_nitrato</code></td>
<td>Nitratos</td>
<td><code>ISOSSORBIDA\|MONONITRATO\|DINITRATO\|PROPATILNITRATO</code></td>
</tr>
<tr class="even">
<td><code>data_ultima_digoxina</code></td>
<td>Digoxina</td>
<td><code>DIGOXINA\|LANOXIN</code></td>
</tr>
</tbody>
</table>
<p>### Uso no Dashboard - IdentificaÃ§Ã£o de lacunas de prescriÃ§Ã£o - DetecÃ§Ã£o de combinaÃ§Ãµes inadequadas - AvaliaÃ§Ã£o de adesÃ£o a guidelines</p>
<hr>
<p>## SeÃ§Ã£o 9: Exames Solicitados</p>
<p>### CTE: <code>exames_solicitados_365d</code></p>
<p><strong>Fonte</strong>: <code>brutos_prontuario_vitacare.atendimento</code> (campo <code>exames_solicitados</code>)</p>
<p><strong>Objetivo</strong>: Verificar se exames essenciais foram solicitados nos Ãºltimos 365 dias.</p>
</section>
<section id="exames-monitorados" class="level3">
<h3 class="anchored" data-anchor-id="exames-monitorados">Exames Monitorados</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 32%">
<col style="width: 45%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th>Campo (tem_X_365d)</th>
<th>Campo (data_solicitacao_X)</th>
<th>PadrÃ£o REGEX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>tem_creatinina_365d</code></td>
<td><code>data_solicitacao_creatinina</code></td>
<td><code>CREATININA</code></td>
</tr>
<tr class="even">
<td><code>tem_colesterol_365d</code></td>
<td><code>data_solicitacao_colesterol</code></td>
<td><code>COLESTEROL\|HDL\|LDL\|TRIGLICERID</code></td>
</tr>
<tr class="odd">
<td><code>tem_eas_365d</code></td>
<td><code>data_solicitacao_eas</code></td>
<td><code>URINA\|CARACTERES\|SEDIMENTO\|EAS</code></td>
</tr>
<tr class="even">
<td><code>tem_ecg_365d</code></td>
<td><code>data_solicitacao_ecg</code></td>
<td><code>ELETROCARDIOGRAMA\|ECG</code></td>
</tr>
<tr class="odd">
<td><code>tem_hba1c_solicitado_365d</code></td>
<td><code>data_solicitacao_hba1c</code></td>
<td><code>HEMOGLOBINA.*GLICO\|HEMOGLOBINA.*GLICADA\|HBA1C</code></td>
</tr>
<tr class="even">
<td><code>tem_glicemia_365d</code></td>
<td><code>data_solicitacao_glicemia</code></td>
<td><code>GLICOSE\|GLICEMIA</code></td>
</tr>
<tr class="odd">
<td><code>tem_microalbuminuria_365d</code></td>
<td><code>data_solicitacao_microalbuminuria</code></td>
<td><code>MICROALBUMIN</code></td>
</tr>
<tr class="even">
<td><code>tem_hemograma_365d</code></td>
<td><code>data_solicitacao_hemograma</code></td>
<td><code>HEMOGRAMA</code></td>
</tr>
</tbody>
</table>
<hr>
<p>## SeÃ§Ã£o 10: Exame do PÃ© DiabÃ©tico</p>
<p>### CTE: <code>exame_pe_diabetico</code></p>
<p><strong>Fonte</strong>: <code>brutos_prontuario_vitacare.atendimento</code> (campo <code>soap_plano_procedimentos_clinicos</code>)</p>
<p><strong>PadrÃ£o REGEX</strong>: <code>sql REGEXP_CONTAINS(UPPER(...), r'EXAME.*PÃ‰.*DIABÃ‰TICO|PÃ‰.*DIABÃ‰TICO')</code></p>
<p><strong>Campos produzidos</strong>: | Campo | DescriÃ§Ã£o | |â€”â€”-|â€”â€”â€”â€“| | <code>teve_exame_pe_365d</code> | TRUE se teve nos Ãºltimos 365 dias | | <code>teve_exame_pe_180d</code> | TRUE se teve nos Ãºltimos 180 dias | | <code>data_ultimo_exame_pe</code> | Data do Ãºltimo exame | | <code>dias_desde_ultimo_exame_pe</code> | Dias desde o Ãºltimo |</p>
<hr>
<p>## SeÃ§Ã£o 11: Escore de Framingham</p>
<p>### Objetivo ClÃ­nico Calcular o <strong>risco cardiovascular em 10 anos</strong> usando o escore de Framingham tradicional.</p>
</section>
<section id="cte-pontuacao_framingham" class="level3">
<h3 class="anchored" data-anchor-id="cte-pontuacao_framingham">CTE: <code>pontuacao_framingham</code></h3>
<p><strong>Componentes pontuados</strong>:</p>
<p>#### Pontos por Idade (Masculino) | Faixa | Pontos | |â€”â€”-|â€”â€”â€“| | 30-34 | -1 | | 35-39 | 0 | | 40-44 | 1 | | 45-49 | 2 | | 50-54 | 3 | | 55-59 | 4 | | 60-64 | 5 | | 65-69 | 6 | | 70-74 | 7 | | â‰¥75 | 8 |</p>
<p>#### Pontos por Idade (Feminino) | Faixa | Pontos | |â€”â€”-|â€”â€”â€“| | 30-34 | -9 | | 35-39 | -4 | | 40-44 | 0 | | 45-49 | 3 | | 50-54 | 6 | | 55-59 | 7 | | 60-64 | 8 | | â‰¥65 | 8 |</p>
<p>#### Pontos por Colesterol Total | CT (mg/dL) | Masculino | Feminino | |â€”â€”â€”â€”|â€”â€”â€”â€“|â€”â€”â€”-| | &lt; 160 | -3 | -2 | | 160-199 | 0 | 0 | | 200-239 | 1 | 1 | | 240-279 | 2 | 1 | | â‰¥ 280 | 3 | 3 |</p>
<p>#### Pontos por HDL | HDL (mg/dL) | Masculino | Feminino | |â€”â€”â€”â€”-|â€”â€”â€”â€“|â€”â€”â€”-| | &lt; 35 | 2 | 5 | | 35-44 | 1 | 2 | | 45-49 | 0 | 1 | | 50-59 | 0 | 0 | | â‰¥ 60 | -1 | -2 |</p>
<p>#### Pontos por PAS (sem tratamento) | PAS (mmHg) | Masculino | Feminino | |â€”â€”â€”â€”|â€”â€”â€”â€“|â€”â€”â€”-| | &lt; 120 | 0 | -3 | | 120-129 | 0 | 0 | | 130-139 | 1 | 1 | | 140-159 | 2 | 2 | | â‰¥ 160 | 3 | 4 |</p>
<p>#### Pontos por PAS (com tratamento/HAS) | PAS (mmHg) | Masculino | Feminino | |â€”â€”â€”â€”|â€”â€”â€”â€“|â€”â€”â€”-| | &lt; 120 | 0 | -1 | | 120-129 | 2 | 2 | | 130-139 | 3 | 3 | | 140-159 | 4 | 5 | | â‰¥ 160 | 5 | 6 |</p>
<p>#### Pontos por Diabetes | GÃªnero | Pontos | |â€”â€”â€“|â€”â€”â€“| | Masculino | 2 | | Feminino | 4 |</p>
<p>#### Pontos por Tabagismo | | Pontos | |-|â€”â€”â€“| | Ambos | 2 |</p>
<p>### CTE: <code>risco_calculado</code></p>
<p><strong>Campos produzidos</strong>: - <code>pontos_totais</code>: Soma de todos os componentes - <code>percentual_risco_10_anos</code>: Risco em % (tabela de conversÃ£o)</p>
<p><strong>Tabela de conversÃ£o (Masculino)</strong>: | Pontos | Risco % | |â€”â€”â€“|â€”â€”â€”| | â‰¤ -3 | 1.0 | | -2 | 1.1 | | â€¦ | â€¦ | | 17 | 29.4 | | â‰¥ 18 | 30.0 |</p>
<hr>
<p>## SeÃ§Ã£o 12: Risco Cardiovascular - EstratificaÃ§Ã£o SBC</p>
<p>### CTE: <code>risco_cardiovascular_estratificado</code></p>
<p>### Objetivo Reclassificar o risco cardiovascular segundo diretrizes da <strong>Sociedade Brasileira de Cardiologia</strong>, que considera condiÃ§Ãµes clÃ­nicas que elevam automaticamente o risco.</p>
</section>
<section id="categorias-de-risco" class="level3">
<h3 class="anchored" data-anchor-id="categorias-de-risco">Categorias de Risco</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Categoria</th>
<th>CritÃ©rios</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>MUITO ALTO</strong></td>
<td>CI, stroke ou vascular_periferica (aterosclerose significativa)</td>
</tr>
<tr class="even">
<td><strong>ALTO</strong></td>
<td>IRC, eGFR &lt; 60, ou LDL â‰¥ 190</td>
</tr>
<tr class="odd">
<td><strong>INTERMEDIÃRIO</strong></td>
<td>DM sem aterosclerose, ou Framingham 5-20% (M) / 5-10% (F)</td>
</tr>
<tr class="even">
<td><strong>BAIXO</strong></td>
<td>Framingham &lt; 5%</td>
</tr>
</tbody>
</table>
<p>### Campos Produzidos</p>
<table class="caption-top table">
<colgroup>
<col style="width: 38%">
<col style="width: 61%">
</colgroup>
<thead>
<tr class="header">
<th>Campo</th>
<th>DescriÃ§Ã£o</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>tipo_estratificacao</code></td>
<td>â€œreclassificado_muito_altoâ€, â€œreclassificado_altoâ€, â€œdiabetes_avaliar_framinghamâ€, â€œusar_framinghamâ€</td>
</tr>
<tr class="even">
<td><code>percentual_risco_final</code></td>
<td>Risco formatado (ex: â€œ&gt;30%â€, â€œ12.5%â€)</td>
</tr>
<tr class="odd">
<td><code>categoria_risco_final</code></td>
<td>â€œMUITO ALTOâ€, â€œALTOâ€, â€œINTERMEDIÃRIOâ€, â€œBAIXOâ€, â€œNÃƒO CLASSIFICADOâ€</td>
</tr>
<tr class="even">
<td><code>motivo_reclassificacao</code></td>
<td>Texto explicativo da reclassificaÃ§Ã£o</td>
</tr>
<tr class="odd">
<td><code>variaveis_usadas_calculo</code></td>
<td>Lista de variÃ¡veis disponÃ­veis</td>
</tr>
<tr class="even">
<td><code>variaveis_ausentes_calculo</code></td>
<td>Lista de variÃ¡veis faltantes</td>
</tr>
</tbody>
</table>
<hr>
<p>## SeÃ§Ã£o 13: Ãndice de Charlson</p>
<p>### Objetivo ClÃ­nico Calcular o <strong>Charlson Comorbidity Index modificado</strong>, incluindo pontuaÃ§Ã£o por idade e polifarmÃ¡cia.</p>
</section>
<section id="cte-charlson_componentes" class="level3">
<h3 class="anchored" data-anchor-id="cte-charlson_componentes">CTE: <code>charlson_componentes</code></h3>
</section>
<section id="pesos-por-morbidade" class="level3">
<h3 class="anchored" data-anchor-id="pesos-por-morbidade">Pesos por Morbidade</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 35%">
<col style="width: 64%">
</colgroup>
<thead>
<tr class="header">
<th>Peso</th>
<th>CondiÃ§Ãµes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>CI, ICC, vascular_periferica, dementia, COPD, peptic, DM sem IRC, alcool, arritmia, psicoses, HIV</td>
</tr>
<tr class="even">
<td>2</td>
<td>DM com IRC, plegia, IRC sem DM, neoplasias sÃ³lidas, leukemia, lymphoma</td>
</tr>
<tr class="odd">
<td>3</td>
<td>liver (doenÃ§a hepÃ¡tica)</td>
</tr>
<tr class="even">
<td>6</td>
<td>metastasis</td>
</tr>
</tbody>
</table>
<p>### Pontos por Idade</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Faixa</th>
<th>Pontos</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>&lt; 40</td>
<td>0</td>
</tr>
<tr class="even">
<td>40-49</td>
<td>1</td>
</tr>
<tr class="odd">
<td>50-59</td>
<td>2</td>
</tr>
<tr class="even">
<td>60-69</td>
<td>3</td>
</tr>
<tr class="odd">
<td>70-79</td>
<td>4</td>
</tr>
<tr class="even">
<td>â‰¥ 80</td>
<td>5</td>
</tr>
</tbody>
</table>
<p>### CTE: <code>charlson_final</code></p>
<p><strong>JOIN com</strong>: <code>MM_mantidos_alterados_ultimas</code> (tabela de medicamentos crÃ´nicos)</p>
</section>
<section id="pontos-por-polifarmÃ¡cia" class="level3">
<h3 class="anchored" data-anchor-id="pontos-por-polifarmÃ¡cia">Pontos por PolifarmÃ¡cia</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Medicamentos crÃ´nicos</th>
<th>Pontos</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0-4</td>
<td>0</td>
</tr>
<tr class="even">
<td>5-9 (polifarmÃ¡cia)</td>
<td>1</td>
</tr>
<tr class="odd">
<td>â‰¥ 10 (hiperpolifarmÃ¡cia)</td>
<td>2</td>
</tr>
</tbody>
</table>
<p>### Campos Produzidos</p>
<table class="caption-top table">
<colgroup>
<col style="width: 38%">
<col style="width: 61%">
</colgroup>
<thead>
<tr class="header">
<th>Campo</th>
<th>DescriÃ§Ã£o</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>charlson_pontos_morbidades</code></td>
<td>Pontos das comorbidades</td>
</tr>
<tr class="even">
<td><code>charlson_pontos_idade</code></td>
<td>Pontos da idade</td>
</tr>
<tr class="odd">
<td><code>charlson_pontos_polifarmacia</code></td>
<td>Pontos da polifarmÃ¡cia</td>
</tr>
<tr class="even">
<td><code>charlson_score</code></td>
<td>Score total</td>
</tr>
<tr class="odd">
<td><code>charlson_categoria</code></td>
<td>â€œBaixoâ€ (â‰¤2), â€œModeradoâ€ (3-6), â€œAltoâ€ (7-9), â€œMuito Altoâ€ (â‰¥10)</td>
</tr>
<tr class="even">
<td><code>total_medicamentos_cronicos</code></td>
<td>Contagem de medicamentos</td>
</tr>
<tr class="odd">
<td><code>nucleo_cronico_atual</code></td>
<td>Lista de medicamentos normalizados</td>
</tr>
<tr class="even">
<td><code>polifarmacia</code></td>
<td>TRUE se 5-9 medicamentos</td>
</tr>
<tr class="odd">
<td><code>hiperpolifarmacia</code></td>
<td>TRUE se â‰¥10 medicamentos</td>
</tr>
</tbody>
</table>
<hr>
<p>## SeÃ§Ã£o 14: Benchmark de Consultas</p>
<p>### CTE: <code>benchmark_consultas</code></p>
<p>### Objetivo Criar <strong>grupos de referÃªncia</strong> para comparaÃ§Ã£o de padrÃµes de consulta.</p>
</section>
<section id="estratificaÃ§Ã£o" class="level3">
<h3 class="anchored" data-anchor-id="estratificaÃ§Ã£o">EstratificaÃ§Ã£o</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>DimensÃ£o</th>
<th>Categorias</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Faixa etÃ¡ria</td>
<td>&lt;40, 40-59, 60-79, 80+</td>
</tr>
<tr class="even">
<td>GÃªnero</td>
<td>masculino, feminino</td>
</tr>
<tr class="odd">
<td>Risco Charlson</td>
<td>baixo (â‰¤2), moderado (3-6), alto (â‰¥7)</td>
</tr>
</tbody>
</table>
<p>### MÃ©tricas Calculadas por Grupo</p>
<ul>
<li><code>percentis_consultas_365d</code>: Array com P25, P50, P75, P100</li>
<li><code>percentis_intervalo_mediano</code>: Array com P25, P50, P75, P100</li>
<li><code>media_consultas_365d</code>: MÃ©dia de consultas no grupo</li>
<li><code>media_intervalo_mediano</code>: MÃ©dia do intervalo no grupo</li>
<li><code>n_pacientes_grupo</code>: Tamanho do grupo de referÃªncia</li>
</ul>
</section>
<section id="uso-no-select-final" class="level3">
<h3 class="anchored" data-anchor-id="uso-no-select-final">Uso no SELECT Final</h3>
<p>ComparaÃ§Ã£o individual vs grupo: - <code>percentil_intervalo_vs_grupo</code>: â€œabaixo_p25â€, â€œp25_p50â€, â€œp50_p75â€, â€œacima_p75â€ - <code>percentil_consultas_vs_grupo</code>: Idem</p>
<p>Flags de inequidade: - <code>alto_risco_baixo_acesso</code>: Charlson â‰¥7 e consultas &lt; P25 do grupo - <code>baixo_risco_alto_acesso</code>: Charlson â‰¤2 e consultas &gt; P75 do grupo - <code>alto_risco_intervalo_longo</code>: Charlson â‰¥7 e intervalo &gt; P75 do grupo</p>
<hr>
<p>## GlossÃ¡rio de Lacunas de Cuidado</p>
<p>### DefiniÃ§Ã£o Lacunas de cuidado sÃ£o <strong>indicadores booleanos</strong> que identificam situaÃ§Ãµes onde o cuidado nÃ£o estÃ¡ alinhado com guidelines ou boas prÃ¡ticas.</p>
</section>
<section id="categoria-2-cardiopatia-isquÃªmica" class="level3">
<h3 class="anchored" data-anchor-id="categoria-2-cardiopatia-isquÃªmica">Categoria 2: Cardiopatia IsquÃªmica</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 30%">
<col style="width: 27%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th>Lacuna</th>
<th>DescriÃ§Ã£o</th>
<th>CritÃ©rio</th>
<th>Prazo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>lacuna_CI_sem_AAS</code></td>
<td>CI sem antiagregaÃ§Ã£o</td>
<td>CI presente E sem AAS hÃ¡ &gt;365d E sem anticoag hÃ¡ &gt;365d</td>
<td>365 dias</td>
</tr>
<tr class="even">
<td><code>lacuna_CI_sem_estatina_alta</code></td>
<td>CI sem estatina de alta intensidade</td>
<td>CI presente E sem estatina alta hÃ¡ &gt;365d</td>
<td>365 dias</td>
</tr>
<tr class="odd">
<td><code>lacuna_CI_sem_estatina_qualquer</code></td>
<td>CI sem nenhuma estatina</td>
<td>CI presente E sem estatina hÃ¡ &gt;365d</td>
<td>365 dias</td>
</tr>
<tr class="even">
<td><code>lacuna_CI_ICC_sem_BB</code></td>
<td>CI+ICC sem betabloqueador</td>
<td>CI E ICC E sem BB hÃ¡ &gt;365d</td>
<td>365 dias</td>
</tr>
</tbody>
</table>
<p>### Categoria 3: ICC e Uso Inadequado</p>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 30%">
<col style="width: 27%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th>Lacuna</th>
<th>DescriÃ§Ã£o</th>
<th>CritÃ©rio</th>
<th>Prazo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>lacuna_ICC_sem_SGLT2</code></td>
<td>ICC sem iSGLT2</td>
<td>ICC presente E sem SGLT2 hÃ¡ &gt;365d</td>
<td>365 dias</td>
</tr>
<tr class="even">
<td><code>lacuna_ICC_sem_IECA_BRA</code></td>
<td>ICC sem bloqueio SRAA</td>
<td>ICC E sem IECA hÃ¡ &gt;365d E sem BRA hÃ¡ &gt;365d</td>
<td>365 dias</td>
</tr>
<tr class="odd">
<td><code>lacuna_ICC_sem_INRA</code></td>
<td>ICC sem sacubitril</td>
<td>ICC E sem INRA hÃ¡ &gt;365d</td>
<td>365 dias</td>
</tr>
<tr class="even">
<td><code>lacuna_IECA_BRA_concomitante</code></td>
<td>Uso inadequado IECA+BRA</td>
<td>IECA hÃ¡ â‰¤180d E BRA hÃ¡ â‰¤180d</td>
<td>-</td>
</tr>
<tr class="odd">
<td><code>lacuna_diur_alca_sem_ICC</code></td>
<td>DiurÃ©tico de alÃ§a sem ICC</td>
<td>Sem ICC E diurÃ©tico alÃ§a hÃ¡ â‰¤180d</td>
<td>-</td>
</tr>
<tr class="even">
<td><code>lacuna_ICC_sem_ARM</code></td>
<td>ICC sem espironolactona</td>
<td>ICC E sem ARM hÃ¡ &gt;365d</td>
<td>365 dias</td>
</tr>
<tr class="odd">
<td><code>lacuna_ICC_INRA_IECA_concomitante</code></td>
<td>CombinaÃ§Ã£o perigosa</td>
<td>ICC E INRA hÃ¡ â‰¤180d E IECA hÃ¡ â‰¤180d</td>
<td>-</td>
</tr>
<tr class="even">
<td><code>lacuna_ICC_uso_BCC_nao_DHP</code></td>
<td>BCC contraindicado em ICC</td>
<td>ICC E BCC nÃ£o-DHP hÃ¡ â‰¤180d</td>
<td>-</td>
</tr>
<tr class="odd">
<td><code>lacuna_ICC_uso_AINE</code></td>
<td>AINE inadequado em ICC</td>
<td>ICC E AINE hÃ¡ â‰¤180d</td>
<td>-</td>
</tr>
<tr class="even">
<td><code>lacuna_IRC_sem_SGLT2</code></td>
<td>IRC sem iSGLT2</td>
<td>IRC E sem SGLT2 hÃ¡ &gt;365d</td>
<td>365 dias</td>
</tr>
<tr class="odd">
<td><code>lacuna_DM_complicado_sem_SGLT2</code></td>
<td>DM complicado sem iSGLT2</td>
<td>DM E (ICC ou IRC ou CI) E sem SGLT2 hÃ¡ &gt;365d</td>
<td>365 dias</td>
</tr>
<tr class="even">
<td><code>lacuna_IRC_sem_iECA_ou_BRA</code></td>
<td>IRC sem bloqueio SRAA</td>
<td>IRC E sem IECA hÃ¡ &gt;365d E sem BRA hÃ¡ &gt;365d</td>
<td>365 dias</td>
</tr>
<tr class="odd">
<td><code>lacuna_ICC_sem_SRAA_e_sem_hidralazina_nitrato</code></td>
<td>ICC sem vasodilatador</td>
<td>ICC E sem IECA/BRA/INRA hÃ¡ &gt;365d E sem hidralazina/nitrato hÃ¡ &gt;365d</td>
<td>365 dias</td>
</tr>
</tbody>
</table>
<p>### Categoria 4: FibrilaÃ§Ã£o Atrial</p>
<table class="caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 30%">
<col style="width: 27%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th>Lacuna</th>
<th>DescriÃ§Ã£o</th>
<th>CritÃ©rio</th>
<th>Prazo</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>lacuna_FA_sem_anticoagulacao</code></td>
<td>FA sem anticoagulaÃ§Ã£o</td>
<td>arritmia E sem anticoag hÃ¡ &gt;365d</td>
<td>365 dias</td>
</tr>
<tr class="even">
<td><code>lacuna_FA_sem_controle_FC</code></td>
<td>FA sem controle de frequÃªncia</td>
<td>arritmia E sem BB hÃ¡ &gt;365d E sem digoxina hÃ¡ &gt;365d</td>
<td>365 dias</td>
</tr>
<tr class="odd">
<td><code>lacuna_FA_ICC_sem_digoxina</code></td>
<td>FA+ICC sem digoxina</td>
<td>arritmia E ICC E sem digoxina hÃ¡ &gt;365d</td>
<td>365 dias</td>
</tr>
</tbody>
</table>
<p>### Categoria 6: Diabetes</p>
<table class="caption-top table">
<colgroup>
<col style="width: 27%">
<col style="width: 37%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th>Lacuna</th>
<th>DescriÃ§Ã£o</th>
<th>CritÃ©rio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>lacuna_DM_sem_HbA1c_recente</code></td>
<td>DM sem monitoramento</td>
<td>DM E (HbA1c NULL ou dias_desde &gt;180)</td>
</tr>
<tr class="even">
<td><code>lacuna_DM_descontrolado</code></td>
<td>DM fora da meta</td>
<td>DM E HbA1c &gt; meta (ajustada por idade) E HbA1c recente</td>
</tr>
<tr class="odd">
<td><code>DM_controlado</code></td>
<td>Flag positivo</td>
<td>DM E HbA1c â‰¤ meta E HbA1c recente</td>
</tr>
<tr class="even">
<td><code>DM_piorando</code></td>
<td>TendÃªncia negativa</td>
<td>DM E aumento HbA1c &gt; 0.5% E intervalo â‰¥90d</td>
</tr>
<tr class="odd">
<td><code>DM_melhorando</code></td>
<td>TendÃªncia positiva</td>
<td>DM E reduÃ§Ã£o HbA1c &gt; 0.5% E intervalo â‰¥90d</td>
</tr>
</tbody>
</table>
<p>### Lacunas de Exames Laboratoriais</p>
<table class="caption-top table">
<colgroup>
<col style="width: 27%">
<col style="width: 37%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th>Lacuna</th>
<th>DescriÃ§Ã£o</th>
<th>CritÃ©rio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>lacuna_creatinina_HAS_DM</code></td>
<td>Sem creatinina</td>
<td>(HAS ou DM) E sem creatinina solicitada 365d</td>
</tr>
<tr class="even">
<td><code>lacuna_colesterol_HAS_DM</code></td>
<td>Sem perfil lipÃ­dico</td>
<td>(HAS ou DM) E sem colesterol solicitado 365d</td>
</tr>
<tr class="odd">
<td><code>lacuna_eas_HAS_DM</code></td>
<td>Sem EAS</td>
<td>(HAS ou DM) E sem EAS solicitado 365d</td>
</tr>
<tr class="even">
<td><code>lacuna_ecg_HAS_DM</code></td>
<td>Sem ECG</td>
<td>(HAS ou DM) E sem ECG solicitado 365d</td>
</tr>
<tr class="odd">
<td><code>lacuna_DM_hba1c_nao_solicitado</code></td>
<td>DM sem HbA1c solicitada</td>
<td>DM E sem HbA1c solicitada 365d</td>
</tr>
<tr class="even">
<td><code>lacuna_DM_microalbuminuria_nao_solicitado</code></td>
<td>DM sem microalbuminÃºria</td>
<td>DM E sem microalbuminÃºria solicitada 365d</td>
</tr>
</tbody>
</table>
<p>### Lacunas de Medidas</p>
<table class="caption-top table">
<colgroup>
<col style="width: 27%">
<col style="width: 37%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th>Lacuna</th>
<th>DescriÃ§Ã£o</th>
<th>CritÃ©rio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>lacuna_IMC_HAS_DM</code></td>
<td>IMC nÃ£o calculÃ¡vel</td>
<td>(HAS ou DM) E (altura NULL ou peso NULL)</td>
</tr>
</tbody>
</table>
<p>### Lacunas de Controle PressÃ³rico</p>
<table class="caption-top table">
<colgroup>
<col style="width: 27%">
<col style="width: 37%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th>Lacuna</th>
<th>DescriÃ§Ã£o</th>
<th>CritÃ©rio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>lacuna_rastreio_PA_adulto</code></td>
<td>Adulto sem rastreio PA</td>
<td>idade â‰¥18 E sem HAS E sem PA hÃ¡ &gt;365d</td>
</tr>
<tr class="even">
<td><code>lacuna_PA_hipertenso_180d</code></td>
<td>Hipertenso sem PA</td>
<td>HAS E sem PA hÃ¡ &gt;180d</td>
</tr>
<tr class="odd">
<td><code>lacuna_HAS_descontrolado_menor80</code></td>
<td>HAS &lt;80a descontrolado</td>
<td>HAS E idade &lt;80 E PA â‰¥140/90</td>
</tr>
<tr class="even">
<td><code>lacuna_HAS_descontrolado_80mais</code></td>
<td>HAS â‰¥80a descontrolado</td>
<td>HAS E idade â‰¥80 E PA â‰¥150/90</td>
</tr>
<tr class="odd">
<td><code>lacuna_DM_HAS_PA_descontrolada</code></td>
<td>DM+HAS PA &gt;135/80</td>
<td>DM E HAS E PA &gt;135/80</td>
</tr>
</tbody>
</table>
<p>### Lacunas de Rastreio DM</p>
<table class="caption-top table">
<colgroup>
<col style="width: 27%">
<col style="width: 37%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th>Lacuna</th>
<th>DescriÃ§Ã£o</th>
<th>CritÃ©rio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>lacuna_rastreio_DM_hipertenso</code></td>
<td>Hipertenso sem rastreio DM</td>
<td>HAS E sem DM E sem glicemia/HbA1c hÃ¡ &gt;365d</td>
</tr>
<tr class="even">
<td><code>lacuna_rastreio_DM_45mais</code></td>
<td>â‰¥45a sem rastreio DM</td>
<td>idade â‰¥45 E sem DM E sem glicemia/HbA1c hÃ¡ &gt;3 anos</td>
</tr>
</tbody>
</table>
<p>### Lacunas de PÃ© DiabÃ©tico</p>
<table class="caption-top table">
<colgroup>
<col style="width: 27%">
<col style="width: 37%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th>Lacuna</th>
<th>DescriÃ§Ã£o</th>
<th>CritÃ©rio</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>lacuna_DM_sem_exame_pe_365d</code></td>
<td>DM sem exame pÃ© 365d</td>
<td>DM E sem exame pÃ© hÃ¡ &gt;365d</td>
</tr>
<tr class="even">
<td><code>lacuna_DM_sem_exame_pe_180d</code></td>
<td>DM sem exame pÃ© 180d</td>
<td>DM E sem exame pÃ© hÃ¡ &gt;180d</td>
</tr>
<tr class="odd">
<td><code>lacuna_DM_nunca_teve_exame_pe</code></td>
<td>DM &gt;1a nunca teve exame</td>
<td>DM hÃ¡ &gt;1 ano E nunca teve exame pÃ©</td>
</tr>
</tbody>
</table>
<hr>
<p>## ReferÃªncias ClÃ­nicas</p>
<p>### Framingham Risk Score - Wilson PWF, et al.&nbsp;Prediction of Coronary Heart Disease Using Risk Factor Categories. Circulation. 1998.</p>
</section>
<section id="estratificaÃ§Ã£o-sbc" class="level3">
<h3 class="anchored" data-anchor-id="estratificaÃ§Ã£o-sbc">EstratificaÃ§Ã£o SBC</h3>
<ul>
<li>Diretrizes Brasileiras de Dislipidemias e PrevenÃ§Ã£o da Aterosclerose - 2017</li>
</ul>
</section>
<section id="ckd-epi-2021" class="level3">
<h3 class="anchored" data-anchor-id="ckd-epi-2021">CKD-EPI 2021</h3>
<ul>
<li>Inker LA, et al.&nbsp;New Creatinine- and Cystatin C-Based Equations to Estimate GFR without Race. NEJM. 2021.</li>
</ul>
</section>
<section id="atp-iii-dislipidemia" class="level3">
<h3 class="anchored" data-anchor-id="atp-iii-dislipidemia">ATP III (Dislipidemia)</h3>
<ul>
<li>Executive Summary of The Third Report of The National Cholesterol Education Program (NCEP). JAMA. 2001.</li>
</ul>
</section>
<section id="charlson-comorbidity-index" class="level3">
<h3 class="anchored" data-anchor-id="charlson-comorbidity-index">Charlson Comorbidity Index</h3>
<ul>
<li>Charlson ME, et al.&nbsp;A new method of classifying prognostic comorbidity in longitudinal studies. J Chronic Dis. 1987.</li>
<li>Quan H, et al.&nbsp;Updating and Validating the Charlson Comorbidity Index. J Clin Epidemiol. 2011.</li>
</ul>
</section>
<section id="metas-de-controle" class="level3">
<h3 class="anchored" data-anchor-id="metas-de-controle">Metas de Controle</h3>
<ul>
<li>Diretrizes SBC para HipertensÃ£o Arterial - 2020</li>
<li>Diretrizes SBD para Diabetes Mellitus - 2022</li>
<li>KDIGO Guidelines for CKD - 2024</li>
</ul>
<hr>
<p>## OrdenaÃ§Ã£o Final</p>
<p>O SELECT final ordena os pacientes por prioridade clÃ­nica:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="cf">CASE</span> risco_cardiovascular  </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="cf">WHEN</span> <span class="st">'MUITO ALTO'</span> <span class="cf">THEN</span> <span class="dv">1</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="cf">WHEN</span> <span class="st">'ALTO'</span> <span class="cf">THEN</span> <span class="dv">2</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="cf">WHEN</span> <span class="st">'INTERMEDIÃRIO'</span> <span class="cf">THEN</span> <span class="dv">3</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="cf">WHEN</span> <span class="st">'BAIXO'</span> <span class="cf">THEN</span> <span class="dv">4</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="cf">ELSE</span> <span class="dv">5</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="cf">END</span>,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>percentual_risco_10_anos <span class="kw">DESC</span> <span class="kw">NULLS</span> <span class="fu">LAST</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>LÃ³gica</strong>: Pacientes de maior risco cardiovascular aparecem primeiro, e dentro de cada categoria, ordenados pelo percentual de risco decrescente.</p>
<hr>
<p>## Metadados</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Campo</th>
<th>Valor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>data_calculo</code></td>
<td>Data de execuÃ§Ã£o da query</td>
</tr>
<tr class="even">
<td>Granularidade</td>
<td>1 linha por CPF</td>
</tr>
<tr class="odd">
<td>AtualizaÃ§Ã£o</td>
<td>Sob demanda</td>
</tr>
</tbody>
</table>
<hr>
<p><em>DocumentaÃ§Ã£o gerada em novembro de 2025</em> <em>Navegador ClÃ­nico - Multimorbidade | SMS-RJ</em></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "î§‹";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./pente_fino_HAS.html" class="pagination-link" aria-label="Pente Fino HAS">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Pente Fino HAS</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->




</body></html>