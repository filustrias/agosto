# Pente Fino HAS {.unnumbered}


## DOCUMENTA√á√ÉO DAS VARI√ÅVEIS - AN√ÅLISE DE HIPERTENS√ÉO ARTERIAL SIST√äMICA

## **SE√á√ÉO 1: IDENTIFICA√á√ÉO E CONSULTA**

### `cpf`
- **Tipo:** String (11 d√≠gitos)
- **Descri√ß√£o:** Identificador √∫nico do paciente
- **Uso:** Agrupar todas as consultas do mesmo paciente

### `entrada_data`
- **Tipo:** Date
- **Descri√ß√£o:** Data da consulta/epis√≥dio assistencial
- **Uso:** Ordena√ß√£o temporal das consultas

### `consulta_numero`
- **Tipo:** Integer
- **Descri√ß√£o:** N√∫mero sequencial da consulta para cada paciente (1, 2, 3...)
- **Uso:** Identificar primeira consulta, progress√£o temporal

### `profissional_especialidade`
- **Tipo:** String
- **Valores comuns:** 
  - "M√©dico cl√≠nico geral"
  - "Enfermeiro"
  - "M√©dico cardiologista"
  - "T√©cnico de enfermagem"
- **Uso:** Identificar tipo de atendimento

---

## **SE√á√ÉO 2: DADOS DEMOGR√ÅFICOS**

### `idade`
- **Tipo:** Integer
- **Unidade:** Anos
- **Descri√ß√£o:** Idade do paciente na data da consulta
- **Uso:** Estratificar an√°lises, aplicar metas individualizadas

### `genero`
- **Tipo:** String
- **Valores:** "masculino", "feminino"
- **Descri√ß√£o:** G√™nero do paciente
- **Uso:** An√°lises epidemiol√≥gicas, estratifica√ß√£o de risco

---

## **SE√á√ÉO 3: DIAGN√ìSTICO - MORBIDADES PRINCIPAIS**

### `HAS`
- **Tipo:** Boolean
- **Valores:** TRUE/FALSE
- **Descri√ß√£o:** Paciente tem diagn√≥stico de Hipertens√£o Arterial Sist√™mica
- **Crit√©rios:**
  - CID I10-I16, O10-O11
  - OU PA ‚â• 180/110 mmHg
  - OU uso de anti-hipertensivos
- **Persist√™ncia:** Uma vez TRUE, permanece TRUE em todas consultas subsequentes

### `DM`
- **Tipo:** Boolean
- **Valores:** TRUE/FALSE
- **Descri√ß√£o:** Paciente tem diabetes mellitus (comorbidade importante)
- **Uso:** Ajustar meta de PA, estratifica√ß√£o de risco cardiovascular

### `ICC`
- **Tipo:** Boolean
- **Valores:** TRUE/FALSE
- **Descri√ß√£o:** Insufici√™ncia Card√≠aca Congestiva
- **Uso:** Ajustar meta de PA (evitar hipotens√£o)

### `IRC`
- **Tipo:** Boolean
- **Valores:** TRUE/FALSE
- **Descri√ß√£o:** Insufici√™ncia Renal Cr√¥nica
- **Uso:** Ajustar meta de PA, escolha de medicamentos

### `CI`
- **Tipo:** Boolean
- **Valores:** TRUE/FALSE
- **Descri√ß√£o:** Cardiopatia Isqu√™mica
- **Uso:** Estratifica√ß√£o de risco cardiovascular

### `stroke`
- **Tipo:** Boolean
- **Valores:** TRUE/FALSE
- **Descri√ß√£o:** Hist√≥ria de Acidente Vascular Cerebral
- **Uso:** Alto risco, requer controle rigoroso

---

## **SE√á√ÉO 4: PRESS√ÉO ARTERIAL - MEDI√á√ïES**

### `pas`
- **Tipo:** Integer
- **Unidade:** mmHg
- **Descri√ß√£o:** Press√£o Arterial Sist√≥lica (com forward-fill)
- **Valores t√≠picos:** 100-200 mmHg
- **Interpreta√ß√£o:**
  - < 120 mmHg: √ìtimo
  - 120-129 mmHg: Normal
  - 130-139 mmHg: Lim√≠trofe
  - 140-159 mmHg: HAS est√°gio 1
  - 160-179 mmHg: HAS est√°gio 2
  - ‚â• 180 mmHg: HAS est√°gio 3 (crise hipertensiva)
- **Forward-fill:** Repete o √∫ltimo valor medido at√© nova medi√ß√£o

### `pad`
- **Tipo:** Integer
- **Unidade:** mmHg
- **Descri√ß√£o:** Press√£o Arterial Diast√≥lica (com forward-fill)
- **Valores t√≠picos:** 60-110 mmHg
- **Interpreta√ß√£o:**
  - < 80 mmHg: √ìtimo
  - 80-84 mmHg: Normal
  - 85-89 mmHg: Lim√≠trofe
  - 90-99 mmHg: HAS est√°gio 1
  - 100-109 mmHg: HAS est√°gio 2
  - ‚â• 110 mmHg: HAS est√°gio 3 (crise hipertensiva)

### `pas_anterior`
- **Tipo:** Integer
- **Unidade:** mmHg
- **Descri√ß√£o:** Valor da **pen√∫ltima** medi√ß√£o REAL de PA sist√≥lica
- **Valores:** NULL se √© a primeira medi√ß√£o do paciente
- **Uso:** Comparar com PA atual para calcular tend√™ncia

### `pad_anterior`
- **Tipo:** Integer
- **Unidade:** mmHg
- **Descri√ß√£o:** Valor da **pen√∫ltima** medi√ß√£o REAL de PA diast√≥lica
- **Valores:** NULL se √© a primeira medi√ß√£o do paciente

### `data_pa_anterior`
- **Tipo:** Date
- **Descri√ß√£o:** Data em que a pen√∫ltima PA foi medida
- **Uso:** Contextualizar a compara√ß√£o temporal

### `dias_desde_pa_anterior`
- **Tipo:** Integer
- **Unidade:** Dias
- **Descri√ß√£o:** N√∫mero de dias **entre** as duas √∫ltimas medi√ß√µes de PA
- **Valores:** 
  - NULL: Primeira medi√ß√£o do paciente
  - 0-365: Intervalo normal entre medi√ß√µes
- **Interpreta√ß√£o:**
  - < 30 dias: Intervalo muito curto
  - 30-90 dias: Intervalo ideal para ajuste
  - 90-180 dias: Intervalo adequado para manuten√ß√£o
  - > 180 dias: Intervalo muito longo

### `variacao_pas`
- **Tipo:** Integer
- **Unidade:** mmHg
- **Descri√ß√£o:** Diferen√ßa entre PA sist√≥lica atual e anterior (atual - anterior)
- **C√°lculo:** `pas - pas_anterior`
- **Interpreta√ß√£o:**
  - < -10 mmHg: Melhora significativa
  - -10 a -5 mmHg: Melhora moderada
  - -5 a +5 mmHg: Est√°vel
  - +5 a +10 mmHg: Piora moderada
  - > +10 mmHg: Piora significativa
- **Exemplo:** 160 ‚Üí 140 mmHg = -20 mmHg (melhorou)

### `variacao_pad`
- **Tipo:** Integer
- **Unidade:** mmHg
- **Descri√ß√£o:** Diferen√ßa entre PA diast√≥lica atual e anterior
- **Interpreta√ß√£o:** Similar √† sist√≥lica (varia√ß√µes > ¬±5 mmHg s√£o significativas)

### `dias_desde_pa_medida`
- **Tipo:** Integer
- **Unidade:** Dias
- **Descri√ß√£o:** Dias desde a **√∫ltima medi√ß√£o real** de PA at√© a consulta atual
- **Uso:** Identificar se PA est√° "fresca" ou "antiga"
- **Interpreta√ß√£o:**
  - 0-90 dias: Medi√ß√£o recente (v√°lida)
  - 91-180 dias: Medi√ß√£o ainda aceit√°vel
  - > 180 dias: Medi√ß√£o antiga (precisa renovar)

### `data_ultima_pa_medida`
- **Tipo:** Date
- **Descri√ß√£o:** Data da √∫ltima medi√ß√£o REAL de PA
- **Uso:** Rastrear quando foi a √∫ltima aferi√ß√£o

---

## **SE√á√ÉO 5: METAS E STATUS DE CONTROLE**

### `meta_pas`
- **Tipo:** Integer
- **Unidade:** mmHg
- **Valores poss√≠veis:** 140, 150
- **Descri√ß√£o:** Meta individualizada de PA sist√≥lica
- **Crit√©rios de defini√ß√£o:**
  - **140 mmHg** (meta padr√£o): Pacientes < 80 anos
  - **150 mmHg**: Pacientes ‚â• 80 anos
- **Refer√™ncia:** VII Diretriz Brasileira de Hipertens√£o

### `meta_pad`
- **Tipo:** Integer
- **Unidade:** mmHg
- **Valores:** 90
- **Descri√ß√£o:** Meta de PA diast√≥lica (constante para todos)

### `status_controle_pressorio`
- **Tipo:** String
- **Valores poss√≠veis:**
  - **"controlado"**: PAS < meta_pas E PAD < meta_pad
  - **"descontrolado"**: PAS ‚â• meta_pas OU PAD ‚â• meta_pad
  - **"sem_dados"**: N√£o h√° PA medida
- **Exemplo:** Meta 140/90, PA 135/85 ‚Üí "controlado"

### `tendencia_pa`
- **Tipo:** String
- **Valores poss√≠veis:**
  - **"sem_dados"**: Nenhuma medi√ß√£o de PA realizada
  - **"sem_referencia_previa"**: Apenas 1 medi√ß√£o (n√£o h√° anterior para comparar)
  - **"melhorando"**: PAS caiu ‚â• 5 mmHg em rela√ß√£o √† anterior
  - **"piorando"**: PAS subiu ‚â• 5 mmHg em rela√ß√£o √† anterior
  - **"estavel"**: Varia√ß√£o entre -5 e +5 mmHg
- **Nota:** Usa varia√ß√£o de 5 mmHg (vs 0.5% para HbA1c) devido √† varia√ß√£o diurna da PA
- **Interpreta√ß√£o cl√≠nica:**
  - "melhorando" ‚Üí Tratamento efetivo
  - "estavel" ‚Üí Manuten√ß√£o adequada
  - "piorando" ‚Üí Necessita ajuste terap√™utico

---

## **SE√á√ÉO 6: TRATAMENTO - MEDICAMENTOS ANTI-HIPERTENSIVOS**

### `nucleo_has`
- **Tipo:** String (texto longo)
- **Descri√ß√£o:** Lista de medicamentos anti-hipertensivos ativos (propagados)
- **Formato:** Texto normalizado
- **Exemplo:** "Enalapril 10mg / Hidroclorotiazida 25mg"
- **Uso:** Vis√£o geral do regime terap√™utico para HAS

### `medicamentos_cronicos_normalizados`
- **Tipo:** String
- **Descri√ß√£o:** Lista de TODOS os medicamentos cr√¥nicos (n√£o s√≥ HAS)
- **Uso:** Contexto completo do tratamento

### `total_medicamentos_cronicos`
- **Tipo:** Integer
- **Descri√ß√£o:** N√∫mero total de medicamentos cr√¥nicos em uso
- **Valores:** 0-20+ (tipicamente 3-10)
- **Uso:** Identificar polifarm√°cia

### `tto_HAS_tendencia`
- **Tipo:** String
- **Descri√ß√£o:** Esquema terap√™utico atual para hipertens√£o
- **Valores poss√≠veis:**
  - **"Sem tratamento medicamentoso"**: N√£o usa anti-hipertensivos
  - **"Monoterapia"**: 1 classe (ex: s√≥ IECA)
  - **"Terapia dupla"**: 2 classes (ex: IECA + Diur√©tico)
  - **"Terapia tripla"**: 3 classes (ex: IECA + Diur√©tico + BCC)
  - **"Terapia qu√°drupla ou mais"**: 4+ classes
- **Uso:** Avaliar intensidade do tratamento

### `qtd_classes_has`
- **Tipo:** Integer
- **Valores:** 0-8
- **Descri√ß√£o:** N√∫mero de classes terap√™uticas de anti-hipertensivos em uso
- **Classes inclu√≠das:**
  1. Diur√©ticos (hidroclorotiazida, clortalidona, indapamida)
  2. IECAs (enalapril, captopril, lisinopril, ramipril)
  3. BRAs (losartana, valsartana, candesartana)
  4. Betabloqueadores (atenolol, propranolol, carvedilol, bisoprolol)
  5. Bloqueadores de Canais de C√°lcio (anlodipino, nifedipino)
  6. ARM - Antagonistas Mineralocorticoides (espironolactona)
  7. A√ß√£o Central (metildopa, clonidina)
  8. Vasodilatadores (hidralazina)
- **Interpreta√ß√£o:**
  - 0: Tratamento n√£o medicamentoso
  - 1: Monoterapia
  - 2: Terapia dupla (adequado para maioria)
  - 3: Terapia tripla (HAS resistente)
  - 4+: Hipertens√£o refrat√°ria (considerar causas secund√°rias)

---

## **SE√á√ÉO 7: POLIFARM√ÅCIA**

### `polifarmacia`
- **Tipo:** Boolean
- **Valores:** TRUE/FALSE
- **Defini√ß√£o:** Paciente usa **5 ou mais** medicamentos cr√¥nicos simultaneamente
- **Implica√ß√£o:** Aumento do risco de intera√ß√µes, efeitos adversos, baixa ades√£o

### `hiperpolifarmacia`
- **Tipo:** Boolean
- **Valores:** TRUE/FALSE
- **Defini√ß√£o:** Paciente usa **10 ou mais** medicamentos cr√¥nicos simultaneamente
- **Implica√ß√£o:** Risco muito elevado, necessita revis√£o medicamentosa

---

## **SE√á√ÉO 8: MUDAN√áAS DE TRATAMENTO**

### `houve_mudanca_has_prescricao`
- **Tipo:** Integer
- **Valores:** 0 ou 1
- **Descri√ß√£o:** Indica se houve mudan√ßa no tratamento HAS NESTA consulta
- **Crit√©rio:** Mudan√ßa no n√∫cleo cr√¥nico de anti-hipertensivos
- **Mudan√ßas consideradas:**
  - Adi√ß√£o de classe
  - Remo√ß√£o de classe
  - Troca de classe
  - Mudan√ßa de dose (se detect√°vel)

### `evento_mudanca_has_real`
- **Tipo:** Integer
- **Valores:** 0 ou 1
- **Descri√ß√£o:** Mudan√ßa real confirmada (excluindo falsos positivos)
- **Diferen√ßa:** Remove flutua√ß√µes tempor√°rias de registro

### `data_ultima_mudanca_has_real`
- **Tipo:** Date
- **Descri√ß√£o:** Data da √∫ltima mudan√ßa REAL no tratamento HAS
- **Valores:** NULL se nunca houve mudan√ßa

### `dias_desde_mudanca_has_real`
- **Tipo:** Integer
- **Unidade:** Dias
- **Descri√ß√£o:** Dias desde a √∫ltima mudan√ßa REAL no tratamento HAS
- **Valores:**
  - 0: Houve mudan√ßa nesta consulta
  - NULL: Nunca houve mudan√ßa
  - 1-730: Dias desde √∫ltima mudan√ßa
- **Uso:** Avaliar in√©rcia terap√™utica

### `nucleo_has_anterior`
- **Tipo:** String
- **Descri√ß√£o:** Tratamento HAS da consulta **imediatamente anterior**
- **Uso:** Comparar com `nucleo_has` para identificar mudan√ßas

### `qtd_classes_has_anterior`
- **Tipo:** Integer
- **Descri√ß√£o:** N√∫mero de classes de anti-hipertensivos na consulta anterior
- **Uso:** Identificar se houve intensifica√ß√£o/simplifica√ß√£o

### `tto_HAS_anterior`
- **Tipo:** String
- **Descri√ß√£o:** Esquema terap√™utico da consulta anterior
- **Uso:** Rastrear evolu√ß√£o do tratamento

---

## **SE√á√ÉO 9: LACUNAS DE CUIDADO - HIPERTENS√ÉO**

### `lacuna_HAS_sem_CID`
- **Tipo:** Boolean
- **Valores:** TRUE/FALSE
- **Descri√ß√£o:** **Lacuna 1** - Paciente hipertenso mas nunca teve CID I10-I16 documentado
- **Crit√©rio:**
  - `HAS = TRUE` (por PA elevada/medicamentos)
  - E nunca teve CID I10-I16 registrado
- **Import√¢ncia:** Afeta codifica√ß√£o, estat√≠sticas, repasse de recursos
- **Persist√™ncia:** TRUE at√© documentar CID

### `lacuna_HAS_sem_PA_recente`
- **Tipo:** Boolean
- **Valores:** TRUE/FALSE
- **Descri√ß√£o:** **Lacuna 2** - Hipertenso sem aferi√ß√£o de PA nos √∫ltimos 180 dias
- **Crit√©rio:**
  - `HAS = TRUE`
  - E `dias_desde_pa_medida > 180` OU `dias_desde_pa_medida IS NULL`
- **Protocolo recomendado:** PA a cada 3-6 meses para hipertensos

### `lacuna_HAS_descontrolado`
- **Tipo:** Boolean
- **Valores:** TRUE/FALSE
- **Descri√ß√£o:** **Lacuna 3** - PA acima da meta individualizada
- **Crit√©rio:**
  - `status_controle_pressorio = 'descontrolado'`
  - PAS ‚â• meta_pas OU PAD ‚â• meta_pad
- **A√ß√£o recomendada:** Ajuste terap√™utico, medidas n√£o farmacol√≥gicas

### `lacuna_HAS_inercia_terapeutica`
- **Tipo:** Boolean
- **Valores:** TRUE/FALSE
- **Descri√ß√£o:** **Lacuna 4** - HAS descontrolado SEM ajuste h√° ‚â• 180 dias
- **Crit√©rio:**
  - PA acima da meta
  - E `dias_desde_mudanca_has_real ‚â• 180` OU nunca houve mudan√ßa
- **Defini√ß√£o de in√©rcia:** Falha em intensificar tratamento quando indicado
- **Import√¢ncia:** Principal barreira ao controle adequado da HAS
- **Exce√ß√µes consideradas:**
  - Ajuste recente (< 180 dias)
  - Contraindica√ß√µes
  - Recusa do paciente

### `lacuna_HAS_piorando_sem_ajuste`
- **Tipo:** Boolean
- **Valores:** TRUE/FALSE
- **Descri√ß√£o:** **Lacuna 5** - PA piorando (‚Üë ‚â•5 mmHg) sem resposta terap√™utica
- **Crit√©rio:**
  - `tendencia_pa = 'piorando'`
  - E `dias_desde_mudanca_has_real ‚â• 90` OU nunca houve mudan√ßa
- **Import√¢ncia:** Indica perda de oportunidade de interven√ß√£o precoce
- **Nota:** Limite menor (90 dias) pois PA piora rapidamente

### `HAS_ajuste_ativo`
- **Tipo:** Boolean
- **Valores:** TRUE/FALSE
- **Descri√ß√£o:** **Flag positivo** - Houve ajuste terap√™utico nos √∫ltimos 180 dias
- **Crit√©rio:**
  - `dias_desde_mudanca_has_real < 180`
- **Uso:** Identificar manejo ativo (contraponto √†s lacunas)
- **Interpreta√ß√£o:** TRUE = equipe est√° respondendo adequadamente

---

## **SE√á√ÉO 10: TOTALIZADORES DO PACIENTE**

### `total_consultas_paciente_has`
- **Tipo:** Integer
- **Descri√ß√£o:** Total de consultas do paciente hipertenso em TODO o per√≠odo
- **Uso:** Avaliar engajamento no cuidado, ader√™ncia ao seguimento

### `total_medicas_paciente_has`
- **Tipo:** Integer
- **Descri√ß√£o:** Total de consultas M√âDICAS do paciente
- **Uso:** Avaliar acesso √† consulta m√©dica

### `total_medicoes_pa_paciente`
- **Tipo:** Integer
- **Descri√ß√£o:** Total de medi√ß√µes de PA do paciente
- **Uso:** Avaliar adequa√ß√£o do monitoramento

### `total_mudancas_has_paciente`
- **Tipo:** Integer
- **Descri√ß√£o:** Total de mudan√ßas REAIS no tratamento HAS
- **Uso:** Avaliar dinamismo do manejo terap√™utico

### `primeira_consulta_has`
- **Tipo:** Date
- **Descri√ß√£o:** Data da primeira consulta do paciente como hipertenso
- **Uso:** Calcular tempo de doen√ßa conhecida

### `ultima_consulta_has`
- **Tipo:** Date
- **Descri√ß√£o:** Data da √∫ltima consulta do paciente
- **Uso:** Identificar pacientes perdidos do seguimento

### `dias_seguimento_has`
- **Tipo:** Integer
- **Unidade:** Dias
- **Descri√ß√£o:** Tempo total de seguimento do paciente (√∫ltima - primeira consulta)
- **Uso:** Contextualizar an√°lises longitudinais

---

## **üìä CASOS DE USO - EXEMPLOS DE AN√ÅLISE**

### **Exemplo 1: Identificar pacientes com in√©rcia terap√™utica grave**
```sql
WHERE lacuna_HAS_inercia_terapeutica = TRUE
  AND dias_desde_mudanca_has_real > 365
  AND pas > 160
```

### **Exemplo 2: Monitorar resposta ao ajuste terap√™utico**
```sql
WHERE HAS_ajuste_ativo = TRUE
  AND tendencia_pa = 'melhorando'
```

### **Exemplo 3: Pacientes em risco de eventos cardiovasculares**
```sql
WHERE tendencia_pa = 'piorando'
  AND status_controle_pressorio = 'descontrolado'
  AND (CI = TRUE OR stroke = TRUE)
  AND lacuna_HAS_piorando_sem_ajuste = TRUE
```

### **Exemplo 4: Avaliar efetividade por esquema terap√™utico**
```sql
SELECT 
  tto_HAS_tendencia,
  AVG(pas) as pas_media,
  SUM(CASE WHEN status_controle_pressorio = 'controlado' THEN 1 ELSE 0 END) / COUNT(*) as taxa_controle
GROUP BY tto_HAS_tendencia
```

### **Exemplo 5: Identificar HAS resistente**
```sql
WHERE qtd_classes_has >= 3
  AND status_controle_pressorio = 'descontrolado'
  AND dias_seguimento_has > 180
```

---

## **‚ö†Ô∏è NOTAS IMPORTANTES**

1. **Forward-fill:** Valores de PA se repetem entre consultas at√© nova medi√ß√£o
2. **Persist√™ncia de diagn√≥sticos:** HAS uma vez TRUE, permanece TRUE
3. **Lacunas s√£o cumulativas:** Um paciente pode ter m√∫ltiplas lacunas simultaneamente
4. **Metas individualizadas:** Consideram apenas idade (< 80 vs ‚â• 80 anos)
5. **N√∫cleo cr√¥nico propagado:** Medicamentos se mant√™m ativos por ~180 dias ap√≥s prescri√ß√£o
6. **Varia√ß√£o significativa PA:** ¬±5 mmHg (vs ¬±0.5% para HbA1c)
7. **In√©rcia terap√™utica:** 180 dias para HAS (mesmo crit√©rio que DM)
8. **Piora sem ajuste:** 90 dias para HAS (vs 180 dias no DM) - PA muda mais r√°pido

---
